(function(){"use strict";var e={2565:function(e,t,n){var a=n(3751),r=(n(8176),n(6169)),o=n(880),i=n(4597),s=(0,r.$N)({components:o,directives:i,theme:{defaultTheme:"dark"}}),l=n(641),c=n(33);function p(e,t,n,a,r,o){const i=(0,l.g2)("v-app-bar-title"),s=(0,l.g2)("v-spacer"),p=(0,l.g2)("v-btn"),u=(0,l.g2)("v-app-bar"),d=(0,l.g2)("router-view"),h=(0,l.g2)("v-container"),f=(0,l.g2)("v-main"),g=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(g,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{rounded:""},{default:(0,l.k6)(()=>[(0,l.bF)(i,null,{default:(0,l.k6)(()=>[...t[0]||(t[0]=[(0,l.eW)(" OTA Analyzer ",-1)])]),_:1}),(0,l.bF)(s),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(r.links,e=>((0,l.uX)(),(0,l.Wv)(p,{key:`${e}-header-link`,to:{name:e},class:"ml-5"},{default:(0,l.k6)(()=>[(0,l.eW)((0,c.v_)(e),1)]),_:2},1032,["to"]))),128))]),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)(()=>[(0,l.bF)(h,{fluid:""},{default:(0,l.k6)(()=>[(0,l.bF)(d)]),_:1})]),_:1})]),_:1})}var u={data(){return{links:["Analysis","Demo","About"]}}},d=n(6262);const h=(0,d.A)(u,[["render",p]]);var f=h,g=(n(8992),n(2577),n(1454),n(5499));function m(e,t,n,a,r,o){const i=(0,l.g2)("v-alert"),s=(0,l.g2)("v-row"),c=(0,l.g2)("BaseFile"),p=(0,l.g2)("PayloadDetail"),u=(0,l.g2)("v-col"),d=(0,l.g2)("v-divider"),h=(0,l.g2)("PayloadComposition");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(s,null,{default:(0,l.k6)(()=>[(0,l.bF)(i,{type:"info"},{default:(0,l.k6)(()=>[...t[0]||(t[0]=[(0,l.eW)(" Your files will not be uploaded anywhere. All analysis are done in the frontend using Javascript. ",-1)])]),_:1})]),_:1}),(0,l.bF)(s,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{cols:"12",md:"6"},{default:(0,l.k6)(()=>[(0,l.bF)(c,{label:"Please drag and drop an OTA package or Select one",onFileSelect:e.unpackOTA},null,8,["onFileSelect"]),e.zipFile&&e.payload?((0,l.uX)(),(0,l.Wv)(p,{key:0,zipFile:e.zipFile,payload:e.payload},null,8,["zipFile","payload"])):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(d,{vertical:""}),(0,l.bF)(u,{cols:"12",md:"6"},{default:(0,l.k6)(()=>[e.zipFile&&e.payload&&e.payload.manifest?((0,l.uX)(),(0,l.Wv)(h,{key:0,manifest:e.payload.manifest},null,8,["manifest"])):(0,l.Q3)("",!0)]),_:1})]),_:1})],64)}n(4743);const y={class:"file-select ma-5"},b={key:0},w={key:1},O={key:2};function S(e,t,n,r,o,i){return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("label",y,[(0,l.Lk)("div",{class:"select-button",onDragover:t[0]||(t[0]=(...t)=>e.dragover&&e.dragover(...t)),onDragleave:t[1]||(t[1]=(...t)=>e.dragleave&&e.dragleave(...t)),onDrop:t[2]||(t[2]=(...t)=>e.drop&&e.drop(...t))},[e.label?((0,l.uX)(),(0,l.CE)("span",b,(0,c.v_)(e.fileName?"":e.label),1)):((0,l.uX)(),(0,l.CE)("span",w,"Select File")),e.fileName?((0,l.uX)(),(0,l.CE)("div",O,"File selected: "+(0,c.v_)(e.fileName),1)):(0,l.Q3)("",!0)],32),(0,l.Lk)("input",{ref:"file",type:"file",accept:".zip",onChange:t[3]||(t[3]=(...t)=>e.handleFileChange&&e.handleFileChange(...t))},null,544)]),(0,l.bo)((0,l.Lk)("input",{class:(0,c.C4)(["url-input",{"url-invalid":!e.parsedURL&&""!=e.url,"url-valid":e.parsedURL||""==e.url}]),ref:"url_input",type:"url",placeholder:"type a URL","onUpdate:modelValue":t[4]||(t[4]=t=>e.url=t),onKeyup:t[5]||(t[5]=(...t)=>e.urlKeyup&&e.urlKeyup(...t))},null,34),[[a.Jo,e.url]])],64)}n(4603),n(7566),n(8721);var k=(0,l.pM)({props:{label:{type:String,default:""}},emits:{"file-select":null},data(){return{fileName:"",url:""}},computed:{parsedURL(){try{return new URL(this.url)}catch{return null}}},methods:{handleFileChange(e){if(!e.currentTarget)return;let t=e.currentTarget;if(null==t.files||t.files.length<1)return;const n=t.files[0];this.$emit("file-select",n),this.url="",this.fileName=t.files[0].name},dragover(e){if(e.preventDefault(),!e.currentTarget)return;let t=e.currentTarget;t.classList.contains("file-hover")||t.classList.add("file-hover")},dragleave(e){if(!e.currentTarget)return;let t=e.currentTarget;t.classList.remove("file-hover")},drop(e){if(e.preventDefault(),!e.currentTarget)return;let t=e.currentTarget;e.dataTransfer&&0!=e.dataTransfer.files.length&&(t.files=e.dataTransfer.files,this.handleFileChange(e),t.classList.remove("file-hover"))},urlKeyup(e){if(console.log(this.url),"Enter"==e.key){const t=e.target;if(null==this.parsedURL)return void console.error(`${t.value} is an invalid URL`);this.$emit("file-select",this.parsedURL)}}}});const x=(0,d.A)(k,[["render",S],["__scopeId","data-v-0630c5ec"]]);var P=x;const _={ref:"download"},v={key:1},E={key:1},L={style:{"text-align":"center",display:"block"}},C={key:2,class:"signature"},z={style:{"white-space":"pre-wrap"}};function I(e,t,n,a,r,o){const i=(0,l.g2)("v-btn"),s=(0,l.g2)("BasicInfo"),p=(0,l.g2)("v-divider"),u=(0,l.g2)("PartitionDetail"),d=(0,l.g2)("v-card"),h=(0,l.g2)("v-col"),f=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.CE)(l.FK,null,[e.zipFile&&e.payload?((0,l.uX)(),(0,l.Wv)(i,{key:0,class:"download-btn",onClick:e.exportOTAPackage},{default:(0,l.k6)(()=>[...t[0]||(t[0]=[(0,l.eW)("Export Metadata",-1)])]),_:1},8,["onClick"])):(0,l.Q3)("",!0),(0,l.Lk)("a",_,null,512),(0,l.bF)(s,{zipFile:e.zipFile,payload:e.payload,class:"mb-5"},null,8,["zipFile","payload"]),(0,l.bF)(p),e.payload?((0,l.uX)(),(0,l.CE)("div",v,[t[3]||(t[3]=(0,l.Lk)("h3",null,"Partition List",-1)),e.payload.manifest?((0,l.uX)(),(0,l.Wv)(f,{key:0,class:"mb-5"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.payload.manifest.partitions,t=>((0,l.uX)(),(0,l.Wv)(h,{key:t.partitionName,cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.bF)(d,{elevation:"5",hover:"",shaped:"",class:"partial-info"},{default:(0,l.k6)(()=>[(0,l.bF)(u,{partition:t,dynamicPartitionList:e.dynamicPartitions},null,8,["partition","dynamicPartitionList"])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p),!e.payload.manifest.nonAB&&e.payloadHash?((0,l.uX)(),(0,l.CE)("div",E,[t[1]||(t[1]=(0,l.Lk)("h3",null,"Payload SHA256 Hash",-1)),(0,l.Lk)("span",L,(0,c.v_)(e.payloadHash),1)])):(0,l.Q3)("",!0),(0,l.bF)(p),e.payload.metadata_signature&&!e.payload.manifest.nonAB?((0,l.uX)(),(0,l.CE)("div",C,[t[2]||(t[2]=(0,l.Lk)("h3",null,"Metadata Signature",-1)),(0,l.Lk)("span",z,(0,c.v_)(e.octToHex(e.payload.metadata_signature.signatures[0].data)),1)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)],64)}n(670);const T={key:0},A={key:1},F={key:2},B={key:3},j={key:4},N={class:"toggle"},D={key:0},M={key:0},U={key:1},W={class:"hex"},V={key:2},H={class:"hex"},X={key:3},R={key:4},Q={class:"toggle"},J={key:0};function $(e,t,n,a,r,o){const i=(0,l.g2)("OperationDetail");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("h4",{class:(0,c.C4)({"new-partition":!e.partition.oldPartitionInfo})},(0,c.v_)(e.partition.partitionName),3),e.isDynamicPartition?((0,l.uX)(),(0,l.CE)("div",T,[...t[2]||(t[2]=[(0,l.Lk)("pre",null,"Dynamic:  ✅",-1)])])):(0,l.Q3)("",!0),e.isFECEnabled?((0,l.uX)(),(0,l.CE)("div",A,[...t[3]||(t[3]=[(0,l.Lk)("pre",null,"FEC:      ✅",-1)])])):(0,l.Q3)("",!0),e.isHashtreeEnabled?((0,l.uX)(),(0,l.CE)("div",F,[...t[4]||(t[4]=[(0,l.Lk)("pre",null,"Hashtree: ✅",-1)])])):(0,l.Q3)("",!0),e.partition.estimateCowSize?((0,l.uX)(),(0,l.CE)("div",B,[t[5]||(t[5]=(0,l.Lk)("strong",null," Estimate COW Size: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.partition.estimateCowSize)+" Bytes ",1)])):(0,l.Q3)("",!0),e.partition.postinstallPath?((0,l.uX)(),(0,l.CE)("div",j,[t[6]||(t[6]=(0,l.Lk)("strong",null," Postinstall Script: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.partition.postinstallPath),1)])):(0,l.Q3)("",!0),(0,l.Lk)("div",N,[(0,l.Lk)("h4",{onClick:t[0]||(t[0]=t=>e.toggle("showInfo")),class:(0,c.C4)({active:e.showInfo,inactive:!e.showInfo})}," Partition Infos ",2),e.showInfo?((0,l.uX)(),(0,l.CE)("ul",D,[e.partition.oldPartitionInfo?((0,l.uX)(),(0,l.CE)("li",M,[t[7]||(t[7]=(0,l.Lk)("strong",null," Old Partition Size: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.partition.oldPartitionInfo.size)+" Bytes ",1)])):(0,l.Q3)("",!0),e.partition.oldPartitionInfo?((0,l.uX)(),(0,l.CE)("li",U,[t[8]||(t[8]=(0,l.Lk)("strong",null," Old Partition Hash: ",-1)),(0,l.Lk)("div",W,(0,c.v_)(e.octToHex(e.partition.oldPartitionInfo.hash,!1,16)),1)])):(0,l.Q3)("",!0),(0,l.Lk)("li",null,[t[9]||(t[9]=(0,l.Lk)("strong",null," New Partition Size: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.partition.newPartitionInfo.size)+" Bytes ",1)]),e.partition.newPartitionInfo.hash?((0,l.uX)(),(0,l.CE)("li",V,[t[10]||(t[10]=(0,l.Lk)("strong",null," New Partition Hash: ",-1)),(0,l.Lk)("div",H,(0,c.v_)(e.octToHex(e.partition.newPartitionInfo.hash,!1,16)),1)])):(0,l.Q3)("",!0),e.partition.version?((0,l.uX)(),(0,l.CE)("li",X,[t[11]||(t[11]=(0,l.Lk)("strong",null," Version: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.partition.version),1)])):(0,l.Q3)("",!0),e.readableTimestamp?((0,l.uX)(),(0,l.CE)("li",R,[t[12]||(t[12]=(0,l.Lk)("strong",null," Version: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.readableTimestamp),1)])):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Q,[(0,l.Lk)("h4",{onClick:t[1]||(t[1]=t=>e.toggle("showOPs")),class:(0,c.C4)({active:e.showOPs,inactive:!e.showOPs})}," Total Operations: "+(0,c.v_)(e.partition.operations.length),3),e.showOPs?((0,l.uX)(),(0,l.CE)("ul",J,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.partition.operations,t=>((0,l.uX)(),(0,l.CE)("li",{key:t.dataSha256Hash},[(0,l.bF)(i,{operation:t,mapType:e.opType.mapType},null,8,["operation","mapType"])]))),128))])):(0,l.Q3)("",!0)])],64)}n(4114);var Z=n(6946);const K=Z.Reader,q=Z.Writer,G=Z.util,Y=Z.roots["default"]||(Z.roots["default"]={}),ee=Y.chromeos_update_engine=(()=>{const e={};return e.Extent=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.startBlock=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.numBlocks=G.Long?G.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=q.create()),null!=e.startBlock&&Object.hasOwnProperty.call(e,"startBlock")&&t.uint32(8).uint64(e.startBlock),null!=e.numBlocks&&Object.hasOwnProperty.call(e,"numBlocks")&&t.uint32(16).uint64(e.numBlocks),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.Extent;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.startBlock=e.uint64();break;case 2:r.numBlocks=e.uint64();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null==e.startBlock||!e.hasOwnProperty("startBlock")||G.isInteger(e.startBlock)||e.startBlock&&G.isInteger(e.startBlock.low)&&G.isInteger(e.startBlock.high)?null==e.numBlocks||!e.hasOwnProperty("numBlocks")||G.isInteger(e.numBlocks)||e.numBlocks&&G.isInteger(e.numBlocks.low)&&G.isInteger(e.numBlocks.high)?null:"numBlocks: integer|Long expected":"startBlock: integer|Long expected"},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.Extent)return e;let t=new Y.chromeos_update_engine.Extent;return null!=e.startBlock&&(G.Long?(t.startBlock=G.Long.fromValue(e.startBlock)).unsigned=!0:"string"===typeof e.startBlock?t.startBlock=parseInt(e.startBlock,10):"number"===typeof e.startBlock?t.startBlock=e.startBlock:"object"===typeof e.startBlock&&(t.startBlock=new G.LongBits(e.startBlock.low>>>0,e.startBlock.high>>>0).toNumber(!0))),null!=e.numBlocks&&(G.Long?(t.numBlocks=G.Long.fromValue(e.numBlocks)).unsigned=!0:"string"===typeof e.numBlocks?t.numBlocks=parseInt(e.numBlocks,10):"number"===typeof e.numBlocks?t.numBlocks=e.numBlocks:"object"===typeof e.numBlocks&&(t.numBlocks=new G.LongBits(e.numBlocks.low>>>0,e.numBlocks.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let n={};if(t.defaults){if(G.Long){let e=new G.Long(0,0,!0);n.startBlock=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.startBlock=t.longs===String?"0":0;if(G.Long){let e=new G.Long(0,0,!0);n.numBlocks=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.numBlocks=t.longs===String?"0":0}return null!=e.startBlock&&e.hasOwnProperty("startBlock")&&("number"===typeof e.startBlock?n.startBlock=t.longs===String?String(e.startBlock):e.startBlock:n.startBlock=t.longs===String?G.Long.prototype.toString.call(e.startBlock):t.longs===Number?new G.LongBits(e.startBlock.low>>>0,e.startBlock.high>>>0).toNumber(!0):e.startBlock),null!=e.numBlocks&&e.hasOwnProperty("numBlocks")&&("number"===typeof e.numBlocks?n.numBlocks=t.longs===String?String(e.numBlocks):e.numBlocks:n.numBlocks=t.longs===String?G.Long.prototype.toString.call(e.numBlocks):t.longs===Number?new G.LongBits(e.numBlocks.low>>>0,e.numBlocks.high>>>0).toNumber(!0):e.numBlocks),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.Extent"},e}(),e.Signatures=function(){function e(e){if(this.signatures=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.signatures=G.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),null!=e.signatures&&e.signatures.length)for(let n=0;n<e.signatures.length;++n)Y.chromeos_update_engine.Signatures.Signature.encode(e.signatures[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.Signatures;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.signatures&&r.signatures.length||(r.signatures=[]),r.signatures.push(Y.chromeos_update_engine.Signatures.Signature.decode(e,e.uint32()));break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.signatures&&e.hasOwnProperty("signatures")){if(!Array.isArray(e.signatures))return"signatures: array expected";for(let t=0;t<e.signatures.length;++t){let n=Y.chromeos_update_engine.Signatures.Signature.verify(e.signatures[t]);if(n)return"signatures."+n}}return null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.Signatures)return e;let t=new Y.chromeos_update_engine.Signatures;if(e.signatures){if(!Array.isArray(e.signatures))throw TypeError(".chromeos_update_engine.Signatures.signatures: array expected");t.signatures=[];for(let n=0;n<e.signatures.length;++n){if("object"!==typeof e.signatures[n])throw TypeError(".chromeos_update_engine.Signatures.signatures: object expected");t.signatures[n]=Y.chromeos_update_engine.Signatures.Signature.fromObject(e.signatures[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.signatures=[]),e.signatures&&e.signatures.length){n.signatures=[];for(let a=0;a<e.signatures.length;++a)n.signatures[a]=Y.chromeos_update_engine.Signatures.Signature.toObject(e.signatures[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.Signatures"},e.Signature=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.version=0,e.prototype.data=G.newBuffer([]),e.prototype.unpaddedSignatureSize=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=q.create()),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(8).uint32(e.version),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.unpaddedSignatureSize&&Object.hasOwnProperty.call(e,"unpaddedSignatureSize")&&t.uint32(29).fixed32(e.unpaddedSignatureSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.Signatures.Signature;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.version=e.uint32();break;case 2:r.data=e.bytes();break;case 3:r.unpaddedSignatureSize=e.fixed32();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.version&&e.hasOwnProperty("version")&&!G.isInteger(e.version)?"version: integer expected":null!=e.data&&e.hasOwnProperty("data")&&!(e.data&&"number"===typeof e.data.length||G.isString(e.data))?"data: buffer expected":null!=e.unpaddedSignatureSize&&e.hasOwnProperty("unpaddedSignatureSize")&&!G.isInteger(e.unpaddedSignatureSize)?"unpaddedSignatureSize: integer expected":null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.Signatures.Signature)return e;let t=new Y.chromeos_update_engine.Signatures.Signature;return null!=e.version&&(t.version=e.version>>>0),null!=e.data&&("string"===typeof e.data?G.base64.decode(e.data,t.data=G.newBuffer(G.base64.length(e.data)),0):e.data.length>=0&&(t.data=e.data)),null!=e.unpaddedSignatureSize&&(t.unpaddedSignatureSize=e.unpaddedSignatureSize>>>0),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.version=0,t.bytes===String?n.data="":(n.data=[],t.bytes!==Array&&(n.data=G.newBuffer(n.data))),n.unpaddedSignatureSize=0),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),null!=e.data&&e.hasOwnProperty("data")&&(n.data=t.bytes===String?G.base64.encode(e.data,0,e.data.length):t.bytes===Array?Array.prototype.slice.call(e.data):e.data),null!=e.unpaddedSignatureSize&&e.hasOwnProperty("unpaddedSignatureSize")&&(n.unpaddedSignatureSize=e.unpaddedSignatureSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.Signatures.Signature"},e}(),e}(),e.PartitionInfo=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.size=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.hash=G.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=q.create()),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(8).uint64(e.size),null!=e.hash&&Object.hasOwnProperty.call(e,"hash")&&t.uint32(18).bytes(e.hash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.PartitionInfo;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.size=e.uint64();break;case 2:r.hash=e.bytes();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null==e.size||!e.hasOwnProperty("size")||G.isInteger(e.size)||e.size&&G.isInteger(e.size.low)&&G.isInteger(e.size.high)?null!=e.hash&&e.hasOwnProperty("hash")&&!(e.hash&&"number"===typeof e.hash.length||G.isString(e.hash))?"hash: buffer expected":null:"size: integer|Long expected"},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.PartitionInfo)return e;let t=new Y.chromeos_update_engine.PartitionInfo;return null!=e.size&&(G.Long?(t.size=G.Long.fromValue(e.size)).unsigned=!0:"string"===typeof e.size?t.size=parseInt(e.size,10):"number"===typeof e.size?t.size=e.size:"object"===typeof e.size&&(t.size=new G.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber(!0))),null!=e.hash&&("string"===typeof e.hash?G.base64.decode(e.hash,t.hash=G.newBuffer(G.base64.length(e.hash)),0):e.hash.length>=0&&(t.hash=e.hash)),t},e.toObject=function(e,t){t||(t={});let n={};if(t.defaults){if(G.Long){let e=new G.Long(0,0,!0);n.size=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.size=t.longs===String?"0":0;t.bytes===String?n.hash="":(n.hash=[],t.bytes!==Array&&(n.hash=G.newBuffer(n.hash)))}return null!=e.size&&e.hasOwnProperty("size")&&("number"===typeof e.size?n.size=t.longs===String?String(e.size):e.size:n.size=t.longs===String?G.Long.prototype.toString.call(e.size):t.longs===Number?new G.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber(!0):e.size),null!=e.hash&&e.hasOwnProperty("hash")&&(n.hash=t.bytes===String?G.base64.encode(e.hash,0,e.hash.length):t.bytes===Array?Array.prototype.slice.call(e.hash):e.hash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.PartitionInfo"},e}(),e.InstallOperation=function(){function e(e){if(this.srcExtents=[],this.dstExtents=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.dataOffset=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.dataLength=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.srcExtents=G.emptyArray,e.prototype.srcLength=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.dstExtents=G.emptyArray,e.prototype.dstLength=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.dataSha256Hash=G.newBuffer([]),e.prototype.srcSha256Hash=G.newBuffer([]),e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),t.uint32(8).int32(e.type),null!=e.dataOffset&&Object.hasOwnProperty.call(e,"dataOffset")&&t.uint32(16).uint64(e.dataOffset),null!=e.dataLength&&Object.hasOwnProperty.call(e,"dataLength")&&t.uint32(24).uint64(e.dataLength),null!=e.srcExtents&&e.srcExtents.length)for(let n=0;n<e.srcExtents.length;++n)Y.chromeos_update_engine.Extent.encode(e.srcExtents[n],t.uint32(34).fork()).ldelim();if(null!=e.srcLength&&Object.hasOwnProperty.call(e,"srcLength")&&t.uint32(40).uint64(e.srcLength),null!=e.dstExtents&&e.dstExtents.length)for(let n=0;n<e.dstExtents.length;++n)Y.chromeos_update_engine.Extent.encode(e.dstExtents[n],t.uint32(50).fork()).ldelim();return null!=e.dstLength&&Object.hasOwnProperty.call(e,"dstLength")&&t.uint32(56).uint64(e.dstLength),null!=e.dataSha256Hash&&Object.hasOwnProperty.call(e,"dataSha256Hash")&&t.uint32(66).bytes(e.dataSha256Hash),null!=e.srcSha256Hash&&Object.hasOwnProperty.call(e,"srcSha256Hash")&&t.uint32(74).bytes(e.srcSha256Hash),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.InstallOperation;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.type=e.int32();break;case 2:r.dataOffset=e.uint64();break;case 3:r.dataLength=e.uint64();break;case 4:r.srcExtents&&r.srcExtents.length||(r.srcExtents=[]),r.srcExtents.push(Y.chromeos_update_engine.Extent.decode(e,e.uint32()));break;case 5:r.srcLength=e.uint64();break;case 6:r.dstExtents&&r.dstExtents.length||(r.dstExtents=[]),r.dstExtents.push(Y.chromeos_update_engine.Extent.decode(e,e.uint32()));break;case 7:r.dstLength=e.uint64();break;case 8:r.dataSha256Hash=e.bytes();break;case 9:r.srcSha256Hash=e.bytes();break;default:e.skipType(7&t);break}}if(!r.hasOwnProperty("type"))throw G.ProtocolError("missing required 'type'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 8:case 6:case 7:case 10:case 9:case 11:case 12:case 13:case 14:break}if(null!=e.dataOffset&&e.hasOwnProperty("dataOffset")&&!G.isInteger(e.dataOffset)&&!(e.dataOffset&&G.isInteger(e.dataOffset.low)&&G.isInteger(e.dataOffset.high)))return"dataOffset: integer|Long expected";if(null!=e.dataLength&&e.hasOwnProperty("dataLength")&&!G.isInteger(e.dataLength)&&!(e.dataLength&&G.isInteger(e.dataLength.low)&&G.isInteger(e.dataLength.high)))return"dataLength: integer|Long expected";if(null!=e.srcExtents&&e.hasOwnProperty("srcExtents")){if(!Array.isArray(e.srcExtents))return"srcExtents: array expected";for(let t=0;t<e.srcExtents.length;++t){let n=Y.chromeos_update_engine.Extent.verify(e.srcExtents[t]);if(n)return"srcExtents."+n}}if(null!=e.srcLength&&e.hasOwnProperty("srcLength")&&!G.isInteger(e.srcLength)&&!(e.srcLength&&G.isInteger(e.srcLength.low)&&G.isInteger(e.srcLength.high)))return"srcLength: integer|Long expected";if(null!=e.dstExtents&&e.hasOwnProperty("dstExtents")){if(!Array.isArray(e.dstExtents))return"dstExtents: array expected";for(let t=0;t<e.dstExtents.length;++t){let n=Y.chromeos_update_engine.Extent.verify(e.dstExtents[t]);if(n)return"dstExtents."+n}}return null==e.dstLength||!e.hasOwnProperty("dstLength")||G.isInteger(e.dstLength)||e.dstLength&&G.isInteger(e.dstLength.low)&&G.isInteger(e.dstLength.high)?null!=e.dataSha256Hash&&e.hasOwnProperty("dataSha256Hash")&&!(e.dataSha256Hash&&"number"===typeof e.dataSha256Hash.length||G.isString(e.dataSha256Hash))?"dataSha256Hash: buffer expected":null!=e.srcSha256Hash&&e.hasOwnProperty("srcSha256Hash")&&!(e.srcSha256Hash&&"number"===typeof e.srcSha256Hash.length||G.isString(e.srcSha256Hash))?"srcSha256Hash: buffer expected":null:"dstLength: integer|Long expected"},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.InstallOperation)return e;let t=new Y.chromeos_update_engine.InstallOperation;switch(e.type){default:if("number"===typeof e.type){t.type=e.type;break}break;case"REPLACE":case 0:t.type=0;break;case"REPLACE_BZ":case 1:t.type=1;break;case"MOVE":case 2:t.type=2;break;case"BSDIFF":case 3:t.type=3;break;case"SOURCE_COPY":case 4:t.type=4;break;case"SOURCE_BSDIFF":case 5:t.type=5;break;case"REPLACE_XZ":case 8:t.type=8;break;case"ZERO":case 6:t.type=6;break;case"DISCARD":case 7:t.type=7;break;case"BROTLI_BSDIFF":case 10:t.type=10;break;case"PUFFDIFF":case 9:t.type=9;break;case"ZUCCHINI":case 11:t.type=11;break;case"LZ4DIFF_BSDIFF":case 12:t.type=12;break;case"LZ4DIFF_PUFFDIFF":case 13:t.type=13;break;case"REPLACE_ZSTD":case 14:t.type=14;break}if(null!=e.dataOffset&&(G.Long?(t.dataOffset=G.Long.fromValue(e.dataOffset)).unsigned=!0:"string"===typeof e.dataOffset?t.dataOffset=parseInt(e.dataOffset,10):"number"===typeof e.dataOffset?t.dataOffset=e.dataOffset:"object"===typeof e.dataOffset&&(t.dataOffset=new G.LongBits(e.dataOffset.low>>>0,e.dataOffset.high>>>0).toNumber(!0))),null!=e.dataLength&&(G.Long?(t.dataLength=G.Long.fromValue(e.dataLength)).unsigned=!0:"string"===typeof e.dataLength?t.dataLength=parseInt(e.dataLength,10):"number"===typeof e.dataLength?t.dataLength=e.dataLength:"object"===typeof e.dataLength&&(t.dataLength=new G.LongBits(e.dataLength.low>>>0,e.dataLength.high>>>0).toNumber(!0))),e.srcExtents){if(!Array.isArray(e.srcExtents))throw TypeError(".chromeos_update_engine.InstallOperation.srcExtents: array expected");t.srcExtents=[];for(let n=0;n<e.srcExtents.length;++n){if("object"!==typeof e.srcExtents[n])throw TypeError(".chromeos_update_engine.InstallOperation.srcExtents: object expected");t.srcExtents[n]=Y.chromeos_update_engine.Extent.fromObject(e.srcExtents[n])}}if(null!=e.srcLength&&(G.Long?(t.srcLength=G.Long.fromValue(e.srcLength)).unsigned=!0:"string"===typeof e.srcLength?t.srcLength=parseInt(e.srcLength,10):"number"===typeof e.srcLength?t.srcLength=e.srcLength:"object"===typeof e.srcLength&&(t.srcLength=new G.LongBits(e.srcLength.low>>>0,e.srcLength.high>>>0).toNumber(!0))),e.dstExtents){if(!Array.isArray(e.dstExtents))throw TypeError(".chromeos_update_engine.InstallOperation.dstExtents: array expected");t.dstExtents=[];for(let n=0;n<e.dstExtents.length;++n){if("object"!==typeof e.dstExtents[n])throw TypeError(".chromeos_update_engine.InstallOperation.dstExtents: object expected");t.dstExtents[n]=Y.chromeos_update_engine.Extent.fromObject(e.dstExtents[n])}}return null!=e.dstLength&&(G.Long?(t.dstLength=G.Long.fromValue(e.dstLength)).unsigned=!0:"string"===typeof e.dstLength?t.dstLength=parseInt(e.dstLength,10):"number"===typeof e.dstLength?t.dstLength=e.dstLength:"object"===typeof e.dstLength&&(t.dstLength=new G.LongBits(e.dstLength.low>>>0,e.dstLength.high>>>0).toNumber(!0))),null!=e.dataSha256Hash&&("string"===typeof e.dataSha256Hash?G.base64.decode(e.dataSha256Hash,t.dataSha256Hash=G.newBuffer(G.base64.length(e.dataSha256Hash)),0):e.dataSha256Hash.length>=0&&(t.dataSha256Hash=e.dataSha256Hash)),null!=e.srcSha256Hash&&("string"===typeof e.srcSha256Hash?G.base64.decode(e.srcSha256Hash,t.srcSha256Hash=G.newBuffer(G.base64.length(e.srcSha256Hash)),0):e.srcSha256Hash.length>=0&&(t.srcSha256Hash=e.srcSha256Hash)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.srcExtents=[],n.dstExtents=[]),t.defaults){if(n.type=t.enums===String?"REPLACE":0,G.Long){let e=new G.Long(0,0,!0);n.dataOffset=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.dataOffset=t.longs===String?"0":0;if(G.Long){let e=new G.Long(0,0,!0);n.dataLength=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.dataLength=t.longs===String?"0":0;if(G.Long){let e=new G.Long(0,0,!0);n.srcLength=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.srcLength=t.longs===String?"0":0;if(G.Long){let e=new G.Long(0,0,!0);n.dstLength=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.dstLength=t.longs===String?"0":0;t.bytes===String?n.dataSha256Hash="":(n.dataSha256Hash=[],t.bytes!==Array&&(n.dataSha256Hash=G.newBuffer(n.dataSha256Hash))),t.bytes===String?n.srcSha256Hash="":(n.srcSha256Hash=[],t.bytes!==Array&&(n.srcSha256Hash=G.newBuffer(n.srcSha256Hash)))}if(null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===Y.chromeos_update_engine.InstallOperation.Type[e.type]?e.type:Y.chromeos_update_engine.InstallOperation.Type[e.type]:e.type),null!=e.dataOffset&&e.hasOwnProperty("dataOffset")&&("number"===typeof e.dataOffset?n.dataOffset=t.longs===String?String(e.dataOffset):e.dataOffset:n.dataOffset=t.longs===String?G.Long.prototype.toString.call(e.dataOffset):t.longs===Number?new G.LongBits(e.dataOffset.low>>>0,e.dataOffset.high>>>0).toNumber(!0):e.dataOffset),null!=e.dataLength&&e.hasOwnProperty("dataLength")&&("number"===typeof e.dataLength?n.dataLength=t.longs===String?String(e.dataLength):e.dataLength:n.dataLength=t.longs===String?G.Long.prototype.toString.call(e.dataLength):t.longs===Number?new G.LongBits(e.dataLength.low>>>0,e.dataLength.high>>>0).toNumber(!0):e.dataLength),e.srcExtents&&e.srcExtents.length){n.srcExtents=[];for(let a=0;a<e.srcExtents.length;++a)n.srcExtents[a]=Y.chromeos_update_engine.Extent.toObject(e.srcExtents[a],t)}if(null!=e.srcLength&&e.hasOwnProperty("srcLength")&&("number"===typeof e.srcLength?n.srcLength=t.longs===String?String(e.srcLength):e.srcLength:n.srcLength=t.longs===String?G.Long.prototype.toString.call(e.srcLength):t.longs===Number?new G.LongBits(e.srcLength.low>>>0,e.srcLength.high>>>0).toNumber(!0):e.srcLength),e.dstExtents&&e.dstExtents.length){n.dstExtents=[];for(let a=0;a<e.dstExtents.length;++a)n.dstExtents[a]=Y.chromeos_update_engine.Extent.toObject(e.dstExtents[a],t)}return null!=e.dstLength&&e.hasOwnProperty("dstLength")&&("number"===typeof e.dstLength?n.dstLength=t.longs===String?String(e.dstLength):e.dstLength:n.dstLength=t.longs===String?G.Long.prototype.toString.call(e.dstLength):t.longs===Number?new G.LongBits(e.dstLength.low>>>0,e.dstLength.high>>>0).toNumber(!0):e.dstLength),null!=e.dataSha256Hash&&e.hasOwnProperty("dataSha256Hash")&&(n.dataSha256Hash=t.bytes===String?G.base64.encode(e.dataSha256Hash,0,e.dataSha256Hash.length):t.bytes===Array?Array.prototype.slice.call(e.dataSha256Hash):e.dataSha256Hash),null!=e.srcSha256Hash&&e.hasOwnProperty("srcSha256Hash")&&(n.srcSha256Hash=t.bytes===String?G.base64.encode(e.srcSha256Hash,0,e.srcSha256Hash.length):t.bytes===Array?Array.prototype.slice.call(e.srcSha256Hash):e.srcSha256Hash),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.InstallOperation"},e.Type=function(){const e={},t=Object.create(e);return t[e[0]="REPLACE"]=0,t[e[1]="REPLACE_BZ"]=1,t[e[2]="MOVE"]=2,t[e[3]="BSDIFF"]=3,t[e[4]="SOURCE_COPY"]=4,t[e[5]="SOURCE_BSDIFF"]=5,t[e[8]="REPLACE_XZ"]=8,t[e[6]="ZERO"]=6,t[e[7]="DISCARD"]=7,t[e[10]="BROTLI_BSDIFF"]=10,t[e[9]="PUFFDIFF"]=9,t[e[11]="ZUCCHINI"]=11,t[e[12]="LZ4DIFF_BSDIFF"]=12,t[e[13]="LZ4DIFF_PUFFDIFF"]=13,t[e[14]="REPLACE_ZSTD"]=14,t}(),e}(),e.CowMergeOperation=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.type=0,e.prototype.srcExtent=null,e.prototype.dstExtent=null,e.prototype.srcOffset=0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=q.create()),null!=e.type&&Object.hasOwnProperty.call(e,"type")&&t.uint32(8).int32(e.type),null!=e.srcExtent&&Object.hasOwnProperty.call(e,"srcExtent")&&Y.chromeos_update_engine.Extent.encode(e.srcExtent,t.uint32(18).fork()).ldelim(),null!=e.dstExtent&&Object.hasOwnProperty.call(e,"dstExtent")&&Y.chromeos_update_engine.Extent.encode(e.dstExtent,t.uint32(26).fork()).ldelim(),null!=e.srcOffset&&Object.hasOwnProperty.call(e,"srcOffset")&&t.uint32(32).uint32(e.srcOffset),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.CowMergeOperation;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.type=e.int32();break;case 2:r.srcExtent=Y.chromeos_update_engine.Extent.decode(e,e.uint32());break;case 3:r.dstExtent=Y.chromeos_update_engine.Extent.decode(e,e.uint32());break;case 4:r.srcOffset=e.uint32();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.type&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:break}if(null!=e.srcExtent&&e.hasOwnProperty("srcExtent")){let t=Y.chromeos_update_engine.Extent.verify(e.srcExtent);if(t)return"srcExtent."+t}if(null!=e.dstExtent&&e.hasOwnProperty("dstExtent")){let t=Y.chromeos_update_engine.Extent.verify(e.dstExtent);if(t)return"dstExtent."+t}return null!=e.srcOffset&&e.hasOwnProperty("srcOffset")&&!G.isInteger(e.srcOffset)?"srcOffset: integer expected":null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.CowMergeOperation)return e;let t=new Y.chromeos_update_engine.CowMergeOperation;switch(e.type){default:if("number"===typeof e.type){t.type=e.type;break}break;case"COW_COPY":case 0:t.type=0;break;case"COW_XOR":case 1:t.type=1;break;case"COW_REPLACE":case 2:t.type=2;break}if(null!=e.srcExtent){if("object"!==typeof e.srcExtent)throw TypeError(".chromeos_update_engine.CowMergeOperation.srcExtent: object expected");t.srcExtent=Y.chromeos_update_engine.Extent.fromObject(e.srcExtent)}if(null!=e.dstExtent){if("object"!==typeof e.dstExtent)throw TypeError(".chromeos_update_engine.CowMergeOperation.dstExtent: object expected");t.dstExtent=Y.chromeos_update_engine.Extent.fromObject(e.dstExtent)}return null!=e.srcOffset&&(t.srcOffset=e.srcOffset>>>0),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.type=t.enums===String?"COW_COPY":0,n.srcExtent=null,n.dstExtent=null,n.srcOffset=0),null!=e.type&&e.hasOwnProperty("type")&&(n.type=t.enums===String?void 0===Y.chromeos_update_engine.CowMergeOperation.Type[e.type]?e.type:Y.chromeos_update_engine.CowMergeOperation.Type[e.type]:e.type),null!=e.srcExtent&&e.hasOwnProperty("srcExtent")&&(n.srcExtent=Y.chromeos_update_engine.Extent.toObject(e.srcExtent,t)),null!=e.dstExtent&&e.hasOwnProperty("dstExtent")&&(n.dstExtent=Y.chromeos_update_engine.Extent.toObject(e.dstExtent,t)),null!=e.srcOffset&&e.hasOwnProperty("srcOffset")&&(n.srcOffset=e.srcOffset),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.CowMergeOperation"},e.Type=function(){const e={},t=Object.create(e);return t[e[0]="COW_COPY"]=0,t[e[1]="COW_XOR"]=1,t[e[2]="COW_REPLACE"]=2,t}(),e}(),e.PartitionUpdate=function(){function e(e){if(this.newPartitionSignature=[],this.operations=[],this.mergeOperations=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.partitionName="",e.prototype.runPostinstall=!1,e.prototype.postinstallPath="",e.prototype.filesystemType="",e.prototype.newPartitionSignature=G.emptyArray,e.prototype.oldPartitionInfo=null,e.prototype.newPartitionInfo=null,e.prototype.operations=G.emptyArray,e.prototype.postinstallOptional=!1,e.prototype.hashTreeDataExtent=null,e.prototype.hashTreeExtent=null,e.prototype.hashTreeAlgorithm="",e.prototype.hashTreeSalt=G.newBuffer([]),e.prototype.fecDataExtent=null,e.prototype.fecExtent=null,e.prototype.fecRoots=2,e.prototype.version="",e.prototype.mergeOperations=G.emptyArray,e.prototype.estimateCowSize=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.estimateOpCountMax=G.Long?G.Long.fromBits(0,0,!0):0,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),t.uint32(10).string(e.partitionName),null!=e.runPostinstall&&Object.hasOwnProperty.call(e,"runPostinstall")&&t.uint32(16).bool(e.runPostinstall),null!=e.postinstallPath&&Object.hasOwnProperty.call(e,"postinstallPath")&&t.uint32(26).string(e.postinstallPath),null!=e.filesystemType&&Object.hasOwnProperty.call(e,"filesystemType")&&t.uint32(34).string(e.filesystemType),null!=e.newPartitionSignature&&e.newPartitionSignature.length)for(let n=0;n<e.newPartitionSignature.length;++n)Y.chromeos_update_engine.Signatures.Signature.encode(e.newPartitionSignature[n],t.uint32(42).fork()).ldelim();if(null!=e.oldPartitionInfo&&Object.hasOwnProperty.call(e,"oldPartitionInfo")&&Y.chromeos_update_engine.PartitionInfo.encode(e.oldPartitionInfo,t.uint32(50).fork()).ldelim(),null!=e.newPartitionInfo&&Object.hasOwnProperty.call(e,"newPartitionInfo")&&Y.chromeos_update_engine.PartitionInfo.encode(e.newPartitionInfo,t.uint32(58).fork()).ldelim(),null!=e.operations&&e.operations.length)for(let n=0;n<e.operations.length;++n)Y.chromeos_update_engine.InstallOperation.encode(e.operations[n],t.uint32(66).fork()).ldelim();if(null!=e.postinstallOptional&&Object.hasOwnProperty.call(e,"postinstallOptional")&&t.uint32(72).bool(e.postinstallOptional),null!=e.hashTreeDataExtent&&Object.hasOwnProperty.call(e,"hashTreeDataExtent")&&Y.chromeos_update_engine.Extent.encode(e.hashTreeDataExtent,t.uint32(82).fork()).ldelim(),null!=e.hashTreeExtent&&Object.hasOwnProperty.call(e,"hashTreeExtent")&&Y.chromeos_update_engine.Extent.encode(e.hashTreeExtent,t.uint32(90).fork()).ldelim(),null!=e.hashTreeAlgorithm&&Object.hasOwnProperty.call(e,"hashTreeAlgorithm")&&t.uint32(98).string(e.hashTreeAlgorithm),null!=e.hashTreeSalt&&Object.hasOwnProperty.call(e,"hashTreeSalt")&&t.uint32(106).bytes(e.hashTreeSalt),null!=e.fecDataExtent&&Object.hasOwnProperty.call(e,"fecDataExtent")&&Y.chromeos_update_engine.Extent.encode(e.fecDataExtent,t.uint32(114).fork()).ldelim(),null!=e.fecExtent&&Object.hasOwnProperty.call(e,"fecExtent")&&Y.chromeos_update_engine.Extent.encode(e.fecExtent,t.uint32(122).fork()).ldelim(),null!=e.fecRoots&&Object.hasOwnProperty.call(e,"fecRoots")&&t.uint32(128).uint32(e.fecRoots),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(138).string(e.version),null!=e.mergeOperations&&e.mergeOperations.length)for(let n=0;n<e.mergeOperations.length;++n)Y.chromeos_update_engine.CowMergeOperation.encode(e.mergeOperations[n],t.uint32(146).fork()).ldelim();return null!=e.estimateCowSize&&Object.hasOwnProperty.call(e,"estimateCowSize")&&t.uint32(152).uint64(e.estimateCowSize),null!=e.estimateOpCountMax&&Object.hasOwnProperty.call(e,"estimateOpCountMax")&&t.uint32(160).uint64(e.estimateOpCountMax),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.PartitionUpdate;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.partitionName=e.string();break;case 2:r.runPostinstall=e.bool();break;case 3:r.postinstallPath=e.string();break;case 4:r.filesystemType=e.string();break;case 5:r.newPartitionSignature&&r.newPartitionSignature.length||(r.newPartitionSignature=[]),r.newPartitionSignature.push(Y.chromeos_update_engine.Signatures.Signature.decode(e,e.uint32()));break;case 6:r.oldPartitionInfo=Y.chromeos_update_engine.PartitionInfo.decode(e,e.uint32());break;case 7:r.newPartitionInfo=Y.chromeos_update_engine.PartitionInfo.decode(e,e.uint32());break;case 8:r.operations&&r.operations.length||(r.operations=[]),r.operations.push(Y.chromeos_update_engine.InstallOperation.decode(e,e.uint32()));break;case 9:r.postinstallOptional=e.bool();break;case 10:r.hashTreeDataExtent=Y.chromeos_update_engine.Extent.decode(e,e.uint32());break;case 11:r.hashTreeExtent=Y.chromeos_update_engine.Extent.decode(e,e.uint32());break;case 12:r.hashTreeAlgorithm=e.string();break;case 13:r.hashTreeSalt=e.bytes();break;case 14:r.fecDataExtent=Y.chromeos_update_engine.Extent.decode(e,e.uint32());break;case 15:r.fecExtent=Y.chromeos_update_engine.Extent.decode(e,e.uint32());break;case 16:r.fecRoots=e.uint32();break;case 17:r.version=e.string();break;case 18:r.mergeOperations&&r.mergeOperations.length||(r.mergeOperations=[]),r.mergeOperations.push(Y.chromeos_update_engine.CowMergeOperation.decode(e,e.uint32()));break;case 19:r.estimateCowSize=e.uint64();break;case 20:r.estimateOpCountMax=e.uint64();break;default:e.skipType(7&t);break}}if(!r.hasOwnProperty("partitionName"))throw G.ProtocolError("missing required 'partitionName'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!G.isString(e.partitionName))return"partitionName: string expected";if(null!=e.runPostinstall&&e.hasOwnProperty("runPostinstall")&&"boolean"!==typeof e.runPostinstall)return"runPostinstall: boolean expected";if(null!=e.postinstallPath&&e.hasOwnProperty("postinstallPath")&&!G.isString(e.postinstallPath))return"postinstallPath: string expected";if(null!=e.filesystemType&&e.hasOwnProperty("filesystemType")&&!G.isString(e.filesystemType))return"filesystemType: string expected";if(null!=e.newPartitionSignature&&e.hasOwnProperty("newPartitionSignature")){if(!Array.isArray(e.newPartitionSignature))return"newPartitionSignature: array expected";for(let t=0;t<e.newPartitionSignature.length;++t){let n=Y.chromeos_update_engine.Signatures.Signature.verify(e.newPartitionSignature[t]);if(n)return"newPartitionSignature."+n}}if(null!=e.oldPartitionInfo&&e.hasOwnProperty("oldPartitionInfo")){let t=Y.chromeos_update_engine.PartitionInfo.verify(e.oldPartitionInfo);if(t)return"oldPartitionInfo."+t}if(null!=e.newPartitionInfo&&e.hasOwnProperty("newPartitionInfo")){let t=Y.chromeos_update_engine.PartitionInfo.verify(e.newPartitionInfo);if(t)return"newPartitionInfo."+t}if(null!=e.operations&&e.hasOwnProperty("operations")){if(!Array.isArray(e.operations))return"operations: array expected";for(let t=0;t<e.operations.length;++t){let n=Y.chromeos_update_engine.InstallOperation.verify(e.operations[t]);if(n)return"operations."+n}}if(null!=e.postinstallOptional&&e.hasOwnProperty("postinstallOptional")&&"boolean"!==typeof e.postinstallOptional)return"postinstallOptional: boolean expected";if(null!=e.hashTreeDataExtent&&e.hasOwnProperty("hashTreeDataExtent")){let t=Y.chromeos_update_engine.Extent.verify(e.hashTreeDataExtent);if(t)return"hashTreeDataExtent."+t}if(null!=e.hashTreeExtent&&e.hasOwnProperty("hashTreeExtent")){let t=Y.chromeos_update_engine.Extent.verify(e.hashTreeExtent);if(t)return"hashTreeExtent."+t}if(null!=e.hashTreeAlgorithm&&e.hasOwnProperty("hashTreeAlgorithm")&&!G.isString(e.hashTreeAlgorithm))return"hashTreeAlgorithm: string expected";if(null!=e.hashTreeSalt&&e.hasOwnProperty("hashTreeSalt")&&!(e.hashTreeSalt&&"number"===typeof e.hashTreeSalt.length||G.isString(e.hashTreeSalt)))return"hashTreeSalt: buffer expected";if(null!=e.fecDataExtent&&e.hasOwnProperty("fecDataExtent")){let t=Y.chromeos_update_engine.Extent.verify(e.fecDataExtent);if(t)return"fecDataExtent."+t}if(null!=e.fecExtent&&e.hasOwnProperty("fecExtent")){let t=Y.chromeos_update_engine.Extent.verify(e.fecExtent);if(t)return"fecExtent."+t}if(null!=e.fecRoots&&e.hasOwnProperty("fecRoots")&&!G.isInteger(e.fecRoots))return"fecRoots: integer expected";if(null!=e.version&&e.hasOwnProperty("version")&&!G.isString(e.version))return"version: string expected";if(null!=e.mergeOperations&&e.hasOwnProperty("mergeOperations")){if(!Array.isArray(e.mergeOperations))return"mergeOperations: array expected";for(let t=0;t<e.mergeOperations.length;++t){let n=Y.chromeos_update_engine.CowMergeOperation.verify(e.mergeOperations[t]);if(n)return"mergeOperations."+n}}return null==e.estimateCowSize||!e.hasOwnProperty("estimateCowSize")||G.isInteger(e.estimateCowSize)||e.estimateCowSize&&G.isInteger(e.estimateCowSize.low)&&G.isInteger(e.estimateCowSize.high)?null==e.estimateOpCountMax||!e.hasOwnProperty("estimateOpCountMax")||G.isInteger(e.estimateOpCountMax)||e.estimateOpCountMax&&G.isInteger(e.estimateOpCountMax.low)&&G.isInteger(e.estimateOpCountMax.high)?null:"estimateOpCountMax: integer|Long expected":"estimateCowSize: integer|Long expected"},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.PartitionUpdate)return e;let t=new Y.chromeos_update_engine.PartitionUpdate;if(null!=e.partitionName&&(t.partitionName=String(e.partitionName)),null!=e.runPostinstall&&(t.runPostinstall=Boolean(e.runPostinstall)),null!=e.postinstallPath&&(t.postinstallPath=String(e.postinstallPath)),null!=e.filesystemType&&(t.filesystemType=String(e.filesystemType)),e.newPartitionSignature){if(!Array.isArray(e.newPartitionSignature))throw TypeError(".chromeos_update_engine.PartitionUpdate.newPartitionSignature: array expected");t.newPartitionSignature=[];for(let n=0;n<e.newPartitionSignature.length;++n){if("object"!==typeof e.newPartitionSignature[n])throw TypeError(".chromeos_update_engine.PartitionUpdate.newPartitionSignature: object expected");t.newPartitionSignature[n]=Y.chromeos_update_engine.Signatures.Signature.fromObject(e.newPartitionSignature[n])}}if(null!=e.oldPartitionInfo){if("object"!==typeof e.oldPartitionInfo)throw TypeError(".chromeos_update_engine.PartitionUpdate.oldPartitionInfo: object expected");t.oldPartitionInfo=Y.chromeos_update_engine.PartitionInfo.fromObject(e.oldPartitionInfo)}if(null!=e.newPartitionInfo){if("object"!==typeof e.newPartitionInfo)throw TypeError(".chromeos_update_engine.PartitionUpdate.newPartitionInfo: object expected");t.newPartitionInfo=Y.chromeos_update_engine.PartitionInfo.fromObject(e.newPartitionInfo)}if(e.operations){if(!Array.isArray(e.operations))throw TypeError(".chromeos_update_engine.PartitionUpdate.operations: array expected");t.operations=[];for(let n=0;n<e.operations.length;++n){if("object"!==typeof e.operations[n])throw TypeError(".chromeos_update_engine.PartitionUpdate.operations: object expected");t.operations[n]=Y.chromeos_update_engine.InstallOperation.fromObject(e.operations[n])}}if(null!=e.postinstallOptional&&(t.postinstallOptional=Boolean(e.postinstallOptional)),null!=e.hashTreeDataExtent){if("object"!==typeof e.hashTreeDataExtent)throw TypeError(".chromeos_update_engine.PartitionUpdate.hashTreeDataExtent: object expected");t.hashTreeDataExtent=Y.chromeos_update_engine.Extent.fromObject(e.hashTreeDataExtent)}if(null!=e.hashTreeExtent){if("object"!==typeof e.hashTreeExtent)throw TypeError(".chromeos_update_engine.PartitionUpdate.hashTreeExtent: object expected");t.hashTreeExtent=Y.chromeos_update_engine.Extent.fromObject(e.hashTreeExtent)}if(null!=e.hashTreeAlgorithm&&(t.hashTreeAlgorithm=String(e.hashTreeAlgorithm)),null!=e.hashTreeSalt&&("string"===typeof e.hashTreeSalt?G.base64.decode(e.hashTreeSalt,t.hashTreeSalt=G.newBuffer(G.base64.length(e.hashTreeSalt)),0):e.hashTreeSalt.length>=0&&(t.hashTreeSalt=e.hashTreeSalt)),null!=e.fecDataExtent){if("object"!==typeof e.fecDataExtent)throw TypeError(".chromeos_update_engine.PartitionUpdate.fecDataExtent: object expected");t.fecDataExtent=Y.chromeos_update_engine.Extent.fromObject(e.fecDataExtent)}if(null!=e.fecExtent){if("object"!==typeof e.fecExtent)throw TypeError(".chromeos_update_engine.PartitionUpdate.fecExtent: object expected");t.fecExtent=Y.chromeos_update_engine.Extent.fromObject(e.fecExtent)}if(null!=e.fecRoots&&(t.fecRoots=e.fecRoots>>>0),null!=e.version&&(t.version=String(e.version)),e.mergeOperations){if(!Array.isArray(e.mergeOperations))throw TypeError(".chromeos_update_engine.PartitionUpdate.mergeOperations: array expected");t.mergeOperations=[];for(let n=0;n<e.mergeOperations.length;++n){if("object"!==typeof e.mergeOperations[n])throw TypeError(".chromeos_update_engine.PartitionUpdate.mergeOperations: object expected");t.mergeOperations[n]=Y.chromeos_update_engine.CowMergeOperation.fromObject(e.mergeOperations[n])}}return null!=e.estimateCowSize&&(G.Long?(t.estimateCowSize=G.Long.fromValue(e.estimateCowSize)).unsigned=!0:"string"===typeof e.estimateCowSize?t.estimateCowSize=parseInt(e.estimateCowSize,10):"number"===typeof e.estimateCowSize?t.estimateCowSize=e.estimateCowSize:"object"===typeof e.estimateCowSize&&(t.estimateCowSize=new G.LongBits(e.estimateCowSize.low>>>0,e.estimateCowSize.high>>>0).toNumber(!0))),null!=e.estimateOpCountMax&&(G.Long?(t.estimateOpCountMax=G.Long.fromValue(e.estimateOpCountMax)).unsigned=!0:"string"===typeof e.estimateOpCountMax?t.estimateOpCountMax=parseInt(e.estimateOpCountMax,10):"number"===typeof e.estimateOpCountMax?t.estimateOpCountMax=e.estimateOpCountMax:"object"===typeof e.estimateOpCountMax&&(t.estimateOpCountMax=new G.LongBits(e.estimateOpCountMax.low>>>0,e.estimateOpCountMax.high>>>0).toNumber(!0))),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.newPartitionSignature=[],n.operations=[],n.mergeOperations=[]),t.defaults){if(n.partitionName="",n.runPostinstall=!1,n.postinstallPath="",n.filesystemType="",n.oldPartitionInfo=null,n.newPartitionInfo=null,n.postinstallOptional=!1,n.hashTreeDataExtent=null,n.hashTreeExtent=null,n.hashTreeAlgorithm="",t.bytes===String?n.hashTreeSalt="":(n.hashTreeSalt=[],t.bytes!==Array&&(n.hashTreeSalt=G.newBuffer(n.hashTreeSalt))),n.fecDataExtent=null,n.fecExtent=null,n.fecRoots=2,n.version="",G.Long){let e=new G.Long(0,0,!0);n.estimateCowSize=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.estimateCowSize=t.longs===String?"0":0;if(G.Long){let e=new G.Long(0,0,!0);n.estimateOpCountMax=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.estimateOpCountMax=t.longs===String?"0":0}if(null!=e.partitionName&&e.hasOwnProperty("partitionName")&&(n.partitionName=e.partitionName),null!=e.runPostinstall&&e.hasOwnProperty("runPostinstall")&&(n.runPostinstall=e.runPostinstall),null!=e.postinstallPath&&e.hasOwnProperty("postinstallPath")&&(n.postinstallPath=e.postinstallPath),null!=e.filesystemType&&e.hasOwnProperty("filesystemType")&&(n.filesystemType=e.filesystemType),e.newPartitionSignature&&e.newPartitionSignature.length){n.newPartitionSignature=[];for(let a=0;a<e.newPartitionSignature.length;++a)n.newPartitionSignature[a]=Y.chromeos_update_engine.Signatures.Signature.toObject(e.newPartitionSignature[a],t)}if(null!=e.oldPartitionInfo&&e.hasOwnProperty("oldPartitionInfo")&&(n.oldPartitionInfo=Y.chromeos_update_engine.PartitionInfo.toObject(e.oldPartitionInfo,t)),null!=e.newPartitionInfo&&e.hasOwnProperty("newPartitionInfo")&&(n.newPartitionInfo=Y.chromeos_update_engine.PartitionInfo.toObject(e.newPartitionInfo,t)),e.operations&&e.operations.length){n.operations=[];for(let a=0;a<e.operations.length;++a)n.operations[a]=Y.chromeos_update_engine.InstallOperation.toObject(e.operations[a],t)}if(null!=e.postinstallOptional&&e.hasOwnProperty("postinstallOptional")&&(n.postinstallOptional=e.postinstallOptional),null!=e.hashTreeDataExtent&&e.hasOwnProperty("hashTreeDataExtent")&&(n.hashTreeDataExtent=Y.chromeos_update_engine.Extent.toObject(e.hashTreeDataExtent,t)),null!=e.hashTreeExtent&&e.hasOwnProperty("hashTreeExtent")&&(n.hashTreeExtent=Y.chromeos_update_engine.Extent.toObject(e.hashTreeExtent,t)),null!=e.hashTreeAlgorithm&&e.hasOwnProperty("hashTreeAlgorithm")&&(n.hashTreeAlgorithm=e.hashTreeAlgorithm),null!=e.hashTreeSalt&&e.hasOwnProperty("hashTreeSalt")&&(n.hashTreeSalt=t.bytes===String?G.base64.encode(e.hashTreeSalt,0,e.hashTreeSalt.length):t.bytes===Array?Array.prototype.slice.call(e.hashTreeSalt):e.hashTreeSalt),null!=e.fecDataExtent&&e.hasOwnProperty("fecDataExtent")&&(n.fecDataExtent=Y.chromeos_update_engine.Extent.toObject(e.fecDataExtent,t)),null!=e.fecExtent&&e.hasOwnProperty("fecExtent")&&(n.fecExtent=Y.chromeos_update_engine.Extent.toObject(e.fecExtent,t)),null!=e.fecRoots&&e.hasOwnProperty("fecRoots")&&(n.fecRoots=e.fecRoots),null!=e.version&&e.hasOwnProperty("version")&&(n.version=e.version),e.mergeOperations&&e.mergeOperations.length){n.mergeOperations=[];for(let a=0;a<e.mergeOperations.length;++a)n.mergeOperations[a]=Y.chromeos_update_engine.CowMergeOperation.toObject(e.mergeOperations[a],t)}return null!=e.estimateCowSize&&e.hasOwnProperty("estimateCowSize")&&("number"===typeof e.estimateCowSize?n.estimateCowSize=t.longs===String?String(e.estimateCowSize):e.estimateCowSize:n.estimateCowSize=t.longs===String?G.Long.prototype.toString.call(e.estimateCowSize):t.longs===Number?new G.LongBits(e.estimateCowSize.low>>>0,e.estimateCowSize.high>>>0).toNumber(!0):e.estimateCowSize),null!=e.estimateOpCountMax&&e.hasOwnProperty("estimateOpCountMax")&&("number"===typeof e.estimateOpCountMax?n.estimateOpCountMax=t.longs===String?String(e.estimateOpCountMax):e.estimateOpCountMax:n.estimateOpCountMax=t.longs===String?G.Long.prototype.toString.call(e.estimateOpCountMax):t.longs===Number?new G.LongBits(e.estimateOpCountMax.low>>>0,e.estimateOpCountMax.high>>>0).toNumber(!0):e.estimateOpCountMax),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.PartitionUpdate"},e}(),e.DynamicPartitionGroup=function(){function e(e){if(this.partitionNames=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.name="",e.prototype.size=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.partitionNames=G.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),t.uint32(10).string(e.name),null!=e.size&&Object.hasOwnProperty.call(e,"size")&&t.uint32(16).uint64(e.size),null!=e.partitionNames&&e.partitionNames.length)for(let n=0;n<e.partitionNames.length;++n)t.uint32(26).string(e.partitionNames[n]);return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.DynamicPartitionGroup;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.name=e.string();break;case 2:r.size=e.uint64();break;case 3:r.partitionNames&&r.partitionNames.length||(r.partitionNames=[]),r.partitionNames.push(e.string());break;default:e.skipType(7&t);break}}if(!r.hasOwnProperty("name"))throw G.ProtocolError("missing required 'name'",{instance:r});return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(!G.isString(e.name))return"name: string expected";if(null!=e.size&&e.hasOwnProperty("size")&&!G.isInteger(e.size)&&!(e.size&&G.isInteger(e.size.low)&&G.isInteger(e.size.high)))return"size: integer|Long expected";if(null!=e.partitionNames&&e.hasOwnProperty("partitionNames")){if(!Array.isArray(e.partitionNames))return"partitionNames: array expected";for(let t=0;t<e.partitionNames.length;++t)if(!G.isString(e.partitionNames[t]))return"partitionNames: string[] expected"}return null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.DynamicPartitionGroup)return e;let t=new Y.chromeos_update_engine.DynamicPartitionGroup;if(null!=e.name&&(t.name=String(e.name)),null!=e.size&&(G.Long?(t.size=G.Long.fromValue(e.size)).unsigned=!0:"string"===typeof e.size?t.size=parseInt(e.size,10):"number"===typeof e.size?t.size=e.size:"object"===typeof e.size&&(t.size=new G.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber(!0))),e.partitionNames){if(!Array.isArray(e.partitionNames))throw TypeError(".chromeos_update_engine.DynamicPartitionGroup.partitionNames: array expected");t.partitionNames=[];for(let n=0;n<e.partitionNames.length;++n)t.partitionNames[n]=String(e.partitionNames[n])}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.partitionNames=[]),t.defaults)if(n.name="",G.Long){let e=new G.Long(0,0,!0);n.size=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.size=t.longs===String?"0":0;if(null!=e.name&&e.hasOwnProperty("name")&&(n.name=e.name),null!=e.size&&e.hasOwnProperty("size")&&("number"===typeof e.size?n.size=t.longs===String?String(e.size):e.size:n.size=t.longs===String?G.Long.prototype.toString.call(e.size):t.longs===Number?new G.LongBits(e.size.low>>>0,e.size.high>>>0).toNumber(!0):e.size),e.partitionNames&&e.partitionNames.length){n.partitionNames=[];for(let t=0;t<e.partitionNames.length;++t)n.partitionNames[t]=e.partitionNames[t]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.DynamicPartitionGroup"},e}(),e.VABCFeatureSet=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.threaded=!1,e.prototype.batchWrites=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=q.create()),null!=e.threaded&&Object.hasOwnProperty.call(e,"threaded")&&t.uint32(8).bool(e.threaded),null!=e.batchWrites&&Object.hasOwnProperty.call(e,"batchWrites")&&t.uint32(16).bool(e.batchWrites),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.VABCFeatureSet;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.threaded=e.bool();break;case 2:r.batchWrites=e.bool();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.threaded&&e.hasOwnProperty("threaded")&&"boolean"!==typeof e.threaded?"threaded: boolean expected":null!=e.batchWrites&&e.hasOwnProperty("batchWrites")&&"boolean"!==typeof e.batchWrites?"batchWrites: boolean expected":null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.VABCFeatureSet)return e;let t=new Y.chromeos_update_engine.VABCFeatureSet;return null!=e.threaded&&(t.threaded=Boolean(e.threaded)),null!=e.batchWrites&&(t.batchWrites=Boolean(e.batchWrites)),t},e.toObject=function(e,t){t||(t={});let n={};return t.defaults&&(n.threaded=!1,n.batchWrites=!1),null!=e.threaded&&e.hasOwnProperty("threaded")&&(n.threaded=e.threaded),null!=e.batchWrites&&e.hasOwnProperty("batchWrites")&&(n.batchWrites=e.batchWrites),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.VABCFeatureSet"},e}(),e.DynamicPartitionMetadata=function(){function e(e){if(this.groups=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.groups=G.emptyArray,e.prototype.snapshotEnabled=!1,e.prototype.vabcEnabled=!1,e.prototype.vabcCompressionParam="",e.prototype.cowVersion=0,e.prototype.vabcFeatureSet=null,e.prototype.compressionFactor=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.disableUblk=!1,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),null!=e.groups&&e.groups.length)for(let n=0;n<e.groups.length;++n)Y.chromeos_update_engine.DynamicPartitionGroup.encode(e.groups[n],t.uint32(10).fork()).ldelim();return null!=e.snapshotEnabled&&Object.hasOwnProperty.call(e,"snapshotEnabled")&&t.uint32(16).bool(e.snapshotEnabled),null!=e.vabcEnabled&&Object.hasOwnProperty.call(e,"vabcEnabled")&&t.uint32(24).bool(e.vabcEnabled),null!=e.vabcCompressionParam&&Object.hasOwnProperty.call(e,"vabcCompressionParam")&&t.uint32(34).string(e.vabcCompressionParam),null!=e.cowVersion&&Object.hasOwnProperty.call(e,"cowVersion")&&t.uint32(40).uint32(e.cowVersion),null!=e.vabcFeatureSet&&Object.hasOwnProperty.call(e,"vabcFeatureSet")&&Y.chromeos_update_engine.VABCFeatureSet.encode(e.vabcFeatureSet,t.uint32(50).fork()).ldelim(),null!=e.compressionFactor&&Object.hasOwnProperty.call(e,"compressionFactor")&&t.uint32(56).uint64(e.compressionFactor),null!=e.disableUblk&&Object.hasOwnProperty.call(e,"disableUblk")&&t.uint32(64).bool(e.disableUblk),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.DynamicPartitionMetadata;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(Y.chromeos_update_engine.DynamicPartitionGroup.decode(e,e.uint32()));break;case 2:r.snapshotEnabled=e.bool();break;case 3:r.vabcEnabled=e.bool();break;case 4:r.vabcCompressionParam=e.string();break;case 5:r.cowVersion=e.uint32();break;case 6:r.vabcFeatureSet=Y.chromeos_update_engine.VABCFeatureSet.decode(e,e.uint32());break;case 7:r.compressionFactor=e.uint64();break;case 8:r.disableUblk=e.bool();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.groups&&e.hasOwnProperty("groups")){if(!Array.isArray(e.groups))return"groups: array expected";for(let t=0;t<e.groups.length;++t){let n=Y.chromeos_update_engine.DynamicPartitionGroup.verify(e.groups[t]);if(n)return"groups."+n}}if(null!=e.snapshotEnabled&&e.hasOwnProperty("snapshotEnabled")&&"boolean"!==typeof e.snapshotEnabled)return"snapshotEnabled: boolean expected";if(null!=e.vabcEnabled&&e.hasOwnProperty("vabcEnabled")&&"boolean"!==typeof e.vabcEnabled)return"vabcEnabled: boolean expected";if(null!=e.vabcCompressionParam&&e.hasOwnProperty("vabcCompressionParam")&&!G.isString(e.vabcCompressionParam))return"vabcCompressionParam: string expected";if(null!=e.cowVersion&&e.hasOwnProperty("cowVersion")&&!G.isInteger(e.cowVersion))return"cowVersion: integer expected";if(null!=e.vabcFeatureSet&&e.hasOwnProperty("vabcFeatureSet")){let t=Y.chromeos_update_engine.VABCFeatureSet.verify(e.vabcFeatureSet);if(t)return"vabcFeatureSet."+t}return null==e.compressionFactor||!e.hasOwnProperty("compressionFactor")||G.isInteger(e.compressionFactor)||e.compressionFactor&&G.isInteger(e.compressionFactor.low)&&G.isInteger(e.compressionFactor.high)?null!=e.disableUblk&&e.hasOwnProperty("disableUblk")&&"boolean"!==typeof e.disableUblk?"disableUblk: boolean expected":null:"compressionFactor: integer|Long expected"},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.DynamicPartitionMetadata)return e;let t=new Y.chromeos_update_engine.DynamicPartitionMetadata;if(e.groups){if(!Array.isArray(e.groups))throw TypeError(".chromeos_update_engine.DynamicPartitionMetadata.groups: array expected");t.groups=[];for(let n=0;n<e.groups.length;++n){if("object"!==typeof e.groups[n])throw TypeError(".chromeos_update_engine.DynamicPartitionMetadata.groups: object expected");t.groups[n]=Y.chromeos_update_engine.DynamicPartitionGroup.fromObject(e.groups[n])}}if(null!=e.snapshotEnabled&&(t.snapshotEnabled=Boolean(e.snapshotEnabled)),null!=e.vabcEnabled&&(t.vabcEnabled=Boolean(e.vabcEnabled)),null!=e.vabcCompressionParam&&(t.vabcCompressionParam=String(e.vabcCompressionParam)),null!=e.cowVersion&&(t.cowVersion=e.cowVersion>>>0),null!=e.vabcFeatureSet){if("object"!==typeof e.vabcFeatureSet)throw TypeError(".chromeos_update_engine.DynamicPartitionMetadata.vabcFeatureSet: object expected");t.vabcFeatureSet=Y.chromeos_update_engine.VABCFeatureSet.fromObject(e.vabcFeatureSet)}return null!=e.compressionFactor&&(G.Long?(t.compressionFactor=G.Long.fromValue(e.compressionFactor)).unsigned=!0:"string"===typeof e.compressionFactor?t.compressionFactor=parseInt(e.compressionFactor,10):"number"===typeof e.compressionFactor?t.compressionFactor=e.compressionFactor:"object"===typeof e.compressionFactor&&(t.compressionFactor=new G.LongBits(e.compressionFactor.low>>>0,e.compressionFactor.high>>>0).toNumber(!0))),null!=e.disableUblk&&(t.disableUblk=Boolean(e.disableUblk)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.groups=[]),t.defaults){if(n.snapshotEnabled=!1,n.vabcEnabled=!1,n.vabcCompressionParam="",n.cowVersion=0,n.vabcFeatureSet=null,G.Long){let e=new G.Long(0,0,!0);n.compressionFactor=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.compressionFactor=t.longs===String?"0":0;n.disableUblk=!1}if(e.groups&&e.groups.length){n.groups=[];for(let a=0;a<e.groups.length;++a)n.groups[a]=Y.chromeos_update_engine.DynamicPartitionGroup.toObject(e.groups[a],t)}return null!=e.snapshotEnabled&&e.hasOwnProperty("snapshotEnabled")&&(n.snapshotEnabled=e.snapshotEnabled),null!=e.vabcEnabled&&e.hasOwnProperty("vabcEnabled")&&(n.vabcEnabled=e.vabcEnabled),null!=e.vabcCompressionParam&&e.hasOwnProperty("vabcCompressionParam")&&(n.vabcCompressionParam=e.vabcCompressionParam),null!=e.cowVersion&&e.hasOwnProperty("cowVersion")&&(n.cowVersion=e.cowVersion),null!=e.vabcFeatureSet&&e.hasOwnProperty("vabcFeatureSet")&&(n.vabcFeatureSet=Y.chromeos_update_engine.VABCFeatureSet.toObject(e.vabcFeatureSet,t)),null!=e.compressionFactor&&e.hasOwnProperty("compressionFactor")&&("number"===typeof e.compressionFactor?n.compressionFactor=t.longs===String?String(e.compressionFactor):e.compressionFactor:n.compressionFactor=t.longs===String?G.Long.prototype.toString.call(e.compressionFactor):t.longs===Number?new G.LongBits(e.compressionFactor.low>>>0,e.compressionFactor.high>>>0).toNumber(!0):e.compressionFactor),null!=e.disableUblk&&e.hasOwnProperty("disableUblk")&&(n.disableUblk=e.disableUblk),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.DynamicPartitionMetadata"},e}(),e.ApexInfo=function(){function e(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.packageName="",e.prototype.version=G.Long?G.Long.fromBits(0,0,!1):0,e.prototype.isCompressed=!1,e.prototype.decompressedSize=G.Long?G.Long.fromBits(0,0,!1):0,e.create=function(t){return new e(t)},e.encode=function(e,t){return t||(t=q.create()),null!=e.packageName&&Object.hasOwnProperty.call(e,"packageName")&&t.uint32(10).string(e.packageName),null!=e.version&&Object.hasOwnProperty.call(e,"version")&&t.uint32(16).int64(e.version),null!=e.isCompressed&&Object.hasOwnProperty.call(e,"isCompressed")&&t.uint32(24).bool(e.isCompressed),null!=e.decompressedSize&&Object.hasOwnProperty.call(e,"decompressedSize")&&t.uint32(32).int64(e.decompressedSize),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.ApexInfo;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.packageName=e.string();break;case 2:r.version=e.int64();break;case 3:r.isCompressed=e.bool();break;case 4:r.decompressedSize=e.int64();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){return"object"!==typeof e||null===e?"object expected":null!=e.packageName&&e.hasOwnProperty("packageName")&&!G.isString(e.packageName)?"packageName: string expected":null==e.version||!e.hasOwnProperty("version")||G.isInteger(e.version)||e.version&&G.isInteger(e.version.low)&&G.isInteger(e.version.high)?null!=e.isCompressed&&e.hasOwnProperty("isCompressed")&&"boolean"!==typeof e.isCompressed?"isCompressed: boolean expected":null==e.decompressedSize||!e.hasOwnProperty("decompressedSize")||G.isInteger(e.decompressedSize)||e.decompressedSize&&G.isInteger(e.decompressedSize.low)&&G.isInteger(e.decompressedSize.high)?null:"decompressedSize: integer|Long expected":"version: integer|Long expected"},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.ApexInfo)return e;let t=new Y.chromeos_update_engine.ApexInfo;return null!=e.packageName&&(t.packageName=String(e.packageName)),null!=e.version&&(G.Long?(t.version=G.Long.fromValue(e.version)).unsigned=!1:"string"===typeof e.version?t.version=parseInt(e.version,10):"number"===typeof e.version?t.version=e.version:"object"===typeof e.version&&(t.version=new G.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),null!=e.isCompressed&&(t.isCompressed=Boolean(e.isCompressed)),null!=e.decompressedSize&&(G.Long?(t.decompressedSize=G.Long.fromValue(e.decompressedSize)).unsigned=!1:"string"===typeof e.decompressedSize?t.decompressedSize=parseInt(e.decompressedSize,10):"number"===typeof e.decompressedSize?t.decompressedSize=e.decompressedSize:"object"===typeof e.decompressedSize&&(t.decompressedSize=new G.LongBits(e.decompressedSize.low>>>0,e.decompressedSize.high>>>0).toNumber())),t},e.toObject=function(e,t){t||(t={});let n={};if(t.defaults){if(n.packageName="",G.Long){let e=new G.Long(0,0,!1);n.version=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.version=t.longs===String?"0":0;if(n.isCompressed=!1,G.Long){let e=new G.Long(0,0,!1);n.decompressedSize=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.decompressedSize=t.longs===String?"0":0}return null!=e.packageName&&e.hasOwnProperty("packageName")&&(n.packageName=e.packageName),null!=e.version&&e.hasOwnProperty("version")&&("number"===typeof e.version?n.version=t.longs===String?String(e.version):e.version:n.version=t.longs===String?G.Long.prototype.toString.call(e.version):t.longs===Number?new G.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),null!=e.isCompressed&&e.hasOwnProperty("isCompressed")&&(n.isCompressed=e.isCompressed),null!=e.decompressedSize&&e.hasOwnProperty("decompressedSize")&&("number"===typeof e.decompressedSize?n.decompressedSize=t.longs===String?String(e.decompressedSize):e.decompressedSize:n.decompressedSize=t.longs===String?G.Long.prototype.toString.call(e.decompressedSize):t.longs===Number?new G.LongBits(e.decompressedSize.low>>>0,e.decompressedSize.high>>>0).toNumber():e.decompressedSize),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.ApexInfo"},e}(),e.ApexMetadata=function(){function e(e){if(this.apexInfo=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.apexInfo=G.emptyArray,e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),null!=e.apexInfo&&e.apexInfo.length)for(let n=0;n<e.apexInfo.length;++n)Y.chromeos_update_engine.ApexInfo.encode(e.apexInfo[n],t.uint32(10).fork()).ldelim();return t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.ApexMetadata;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 1:r.apexInfo&&r.apexInfo.length||(r.apexInfo=[]),r.apexInfo.push(Y.chromeos_update_engine.ApexInfo.decode(e,e.uint32()));break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.apexInfo&&e.hasOwnProperty("apexInfo")){if(!Array.isArray(e.apexInfo))return"apexInfo: array expected";for(let t=0;t<e.apexInfo.length;++t){let n=Y.chromeos_update_engine.ApexInfo.verify(e.apexInfo[t]);if(n)return"apexInfo."+n}}return null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.ApexMetadata)return e;let t=new Y.chromeos_update_engine.ApexMetadata;if(e.apexInfo){if(!Array.isArray(e.apexInfo))throw TypeError(".chromeos_update_engine.ApexMetadata.apexInfo: array expected");t.apexInfo=[];for(let n=0;n<e.apexInfo.length;++n){if("object"!==typeof e.apexInfo[n])throw TypeError(".chromeos_update_engine.ApexMetadata.apexInfo: object expected");t.apexInfo[n]=Y.chromeos_update_engine.ApexInfo.fromObject(e.apexInfo[n])}}return t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.apexInfo=[]),e.apexInfo&&e.apexInfo.length){n.apexInfo=[];for(let a=0;a<e.apexInfo.length;++a)n.apexInfo[a]=Y.chromeos_update_engine.ApexInfo.toObject(e.apexInfo[a],t)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.ApexMetadata"},e}(),e.DeltaArchiveManifest=function(){function e(e){if(this.partitions=[],this.apexInfo=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.blockSize=4096,e.prototype.signaturesOffset=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.signaturesSize=G.Long?G.Long.fromBits(0,0,!0):0,e.prototype.minorVersion=0,e.prototype.partitions=G.emptyArray,e.prototype.maxTimestamp=G.Long?G.Long.fromBits(0,0,!1):0,e.prototype.dynamicPartitionMetadata=null,e.prototype.partialUpdate=!1,e.prototype.apexInfo=G.emptyArray,e.prototype.securityPatchLevel="",e.create=function(t){return new e(t)},e.encode=function(e,t){if(t||(t=q.create()),null!=e.blockSize&&Object.hasOwnProperty.call(e,"blockSize")&&t.uint32(24).uint32(e.blockSize),null!=e.signaturesOffset&&Object.hasOwnProperty.call(e,"signaturesOffset")&&t.uint32(32).uint64(e.signaturesOffset),null!=e.signaturesSize&&Object.hasOwnProperty.call(e,"signaturesSize")&&t.uint32(40).uint64(e.signaturesSize),null!=e.minorVersion&&Object.hasOwnProperty.call(e,"minorVersion")&&t.uint32(96).uint32(e.minorVersion),null!=e.partitions&&e.partitions.length)for(let n=0;n<e.partitions.length;++n)Y.chromeos_update_engine.PartitionUpdate.encode(e.partitions[n],t.uint32(106).fork()).ldelim();if(null!=e.maxTimestamp&&Object.hasOwnProperty.call(e,"maxTimestamp")&&t.uint32(112).int64(e.maxTimestamp),null!=e.dynamicPartitionMetadata&&Object.hasOwnProperty.call(e,"dynamicPartitionMetadata")&&Y.chromeos_update_engine.DynamicPartitionMetadata.encode(e.dynamicPartitionMetadata,t.uint32(122).fork()).ldelim(),null!=e.partialUpdate&&Object.hasOwnProperty.call(e,"partialUpdate")&&t.uint32(128).bool(e.partialUpdate),null!=e.apexInfo&&e.apexInfo.length)for(let n=0;n<e.apexInfo.length;++n)Y.chromeos_update_engine.ApexInfo.encode(e.apexInfo[n],t.uint32(138).fork()).ldelim();return null!=e.securityPatchLevel&&Object.hasOwnProperty.call(e,"securityPatchLevel")&&t.uint32(146).string(e.securityPatchLevel),t},e.encodeDelimited=function(e,t){return this.encode(e,t).ldelim()},e.decode=function(e,t,n){e instanceof K||(e=K.create(e));let a=void 0===t?e.len:e.pos+t,r=new Y.chromeos_update_engine.DeltaArchiveManifest;while(e.pos<a){let t=e.uint32();if(t===n)break;switch(t>>>3){case 3:r.blockSize=e.uint32();break;case 4:r.signaturesOffset=e.uint64();break;case 5:r.signaturesSize=e.uint64();break;case 12:r.minorVersion=e.uint32();break;case 13:r.partitions&&r.partitions.length||(r.partitions=[]),r.partitions.push(Y.chromeos_update_engine.PartitionUpdate.decode(e,e.uint32()));break;case 14:r.maxTimestamp=e.int64();break;case 15:r.dynamicPartitionMetadata=Y.chromeos_update_engine.DynamicPartitionMetadata.decode(e,e.uint32());break;case 16:r.partialUpdate=e.bool();break;case 17:r.apexInfo&&r.apexInfo.length||(r.apexInfo=[]),r.apexInfo.push(Y.chromeos_update_engine.ApexInfo.decode(e,e.uint32()));break;case 18:r.securityPatchLevel=e.string();break;default:e.skipType(7&t);break}}return r},e.decodeDelimited=function(e){return e instanceof K||(e=new K(e)),this.decode(e,e.uint32())},e.verify=function(e){if("object"!==typeof e||null===e)return"object expected";if(null!=e.blockSize&&e.hasOwnProperty("blockSize")&&!G.isInteger(e.blockSize))return"blockSize: integer expected";if(null!=e.signaturesOffset&&e.hasOwnProperty("signaturesOffset")&&!G.isInteger(e.signaturesOffset)&&!(e.signaturesOffset&&G.isInteger(e.signaturesOffset.low)&&G.isInteger(e.signaturesOffset.high)))return"signaturesOffset: integer|Long expected";if(null!=e.signaturesSize&&e.hasOwnProperty("signaturesSize")&&!G.isInteger(e.signaturesSize)&&!(e.signaturesSize&&G.isInteger(e.signaturesSize.low)&&G.isInteger(e.signaturesSize.high)))return"signaturesSize: integer|Long expected";if(null!=e.minorVersion&&e.hasOwnProperty("minorVersion")&&!G.isInteger(e.minorVersion))return"minorVersion: integer expected";if(null!=e.partitions&&e.hasOwnProperty("partitions")){if(!Array.isArray(e.partitions))return"partitions: array expected";for(let t=0;t<e.partitions.length;++t){let n=Y.chromeos_update_engine.PartitionUpdate.verify(e.partitions[t]);if(n)return"partitions."+n}}if(null!=e.maxTimestamp&&e.hasOwnProperty("maxTimestamp")&&!G.isInteger(e.maxTimestamp)&&!(e.maxTimestamp&&G.isInteger(e.maxTimestamp.low)&&G.isInteger(e.maxTimestamp.high)))return"maxTimestamp: integer|Long expected";if(null!=e.dynamicPartitionMetadata&&e.hasOwnProperty("dynamicPartitionMetadata")){let t=Y.chromeos_update_engine.DynamicPartitionMetadata.verify(e.dynamicPartitionMetadata);if(t)return"dynamicPartitionMetadata."+t}if(null!=e.partialUpdate&&e.hasOwnProperty("partialUpdate")&&"boolean"!==typeof e.partialUpdate)return"partialUpdate: boolean expected";if(null!=e.apexInfo&&e.hasOwnProperty("apexInfo")){if(!Array.isArray(e.apexInfo))return"apexInfo: array expected";for(let t=0;t<e.apexInfo.length;++t){let n=Y.chromeos_update_engine.ApexInfo.verify(e.apexInfo[t]);if(n)return"apexInfo."+n}}return null!=e.securityPatchLevel&&e.hasOwnProperty("securityPatchLevel")&&!G.isString(e.securityPatchLevel)?"securityPatchLevel: string expected":null},e.fromObject=function(e){if(e instanceof Y.chromeos_update_engine.DeltaArchiveManifest)return e;let t=new Y.chromeos_update_engine.DeltaArchiveManifest;if(null!=e.blockSize&&(t.blockSize=e.blockSize>>>0),null!=e.signaturesOffset&&(G.Long?(t.signaturesOffset=G.Long.fromValue(e.signaturesOffset)).unsigned=!0:"string"===typeof e.signaturesOffset?t.signaturesOffset=parseInt(e.signaturesOffset,10):"number"===typeof e.signaturesOffset?t.signaturesOffset=e.signaturesOffset:"object"===typeof e.signaturesOffset&&(t.signaturesOffset=new G.LongBits(e.signaturesOffset.low>>>0,e.signaturesOffset.high>>>0).toNumber(!0))),null!=e.signaturesSize&&(G.Long?(t.signaturesSize=G.Long.fromValue(e.signaturesSize)).unsigned=!0:"string"===typeof e.signaturesSize?t.signaturesSize=parseInt(e.signaturesSize,10):"number"===typeof e.signaturesSize?t.signaturesSize=e.signaturesSize:"object"===typeof e.signaturesSize&&(t.signaturesSize=new G.LongBits(e.signaturesSize.low>>>0,e.signaturesSize.high>>>0).toNumber(!0))),null!=e.minorVersion&&(t.minorVersion=e.minorVersion>>>0),e.partitions){if(!Array.isArray(e.partitions))throw TypeError(".chromeos_update_engine.DeltaArchiveManifest.partitions: array expected");t.partitions=[];for(let n=0;n<e.partitions.length;++n){if("object"!==typeof e.partitions[n])throw TypeError(".chromeos_update_engine.DeltaArchiveManifest.partitions: object expected");t.partitions[n]=Y.chromeos_update_engine.PartitionUpdate.fromObject(e.partitions[n])}}if(null!=e.maxTimestamp&&(G.Long?(t.maxTimestamp=G.Long.fromValue(e.maxTimestamp)).unsigned=!1:"string"===typeof e.maxTimestamp?t.maxTimestamp=parseInt(e.maxTimestamp,10):"number"===typeof e.maxTimestamp?t.maxTimestamp=e.maxTimestamp:"object"===typeof e.maxTimestamp&&(t.maxTimestamp=new G.LongBits(e.maxTimestamp.low>>>0,e.maxTimestamp.high>>>0).toNumber())),null!=e.dynamicPartitionMetadata){if("object"!==typeof e.dynamicPartitionMetadata)throw TypeError(".chromeos_update_engine.DeltaArchiveManifest.dynamicPartitionMetadata: object expected");t.dynamicPartitionMetadata=Y.chromeos_update_engine.DynamicPartitionMetadata.fromObject(e.dynamicPartitionMetadata)}if(null!=e.partialUpdate&&(t.partialUpdate=Boolean(e.partialUpdate)),e.apexInfo){if(!Array.isArray(e.apexInfo))throw TypeError(".chromeos_update_engine.DeltaArchiveManifest.apexInfo: array expected");t.apexInfo=[];for(let n=0;n<e.apexInfo.length;++n){if("object"!==typeof e.apexInfo[n])throw TypeError(".chromeos_update_engine.DeltaArchiveManifest.apexInfo: object expected");t.apexInfo[n]=Y.chromeos_update_engine.ApexInfo.fromObject(e.apexInfo[n])}}return null!=e.securityPatchLevel&&(t.securityPatchLevel=String(e.securityPatchLevel)),t},e.toObject=function(e,t){t||(t={});let n={};if((t.arrays||t.defaults)&&(n.partitions=[],n.apexInfo=[]),t.defaults){if(n.blockSize=4096,G.Long){let e=new G.Long(0,0,!0);n.signaturesOffset=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.signaturesOffset=t.longs===String?"0":0;if(G.Long){let e=new G.Long(0,0,!0);n.signaturesSize=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.signaturesSize=t.longs===String?"0":0;if(n.minorVersion=0,G.Long){let e=new G.Long(0,0,!1);n.maxTimestamp=t.longs===String?e.toString():t.longs===Number?e.toNumber():e}else n.maxTimestamp=t.longs===String?"0":0;n.dynamicPartitionMetadata=null,n.partialUpdate=!1,n.securityPatchLevel=""}if(null!=e.blockSize&&e.hasOwnProperty("blockSize")&&(n.blockSize=e.blockSize),null!=e.signaturesOffset&&e.hasOwnProperty("signaturesOffset")&&("number"===typeof e.signaturesOffset?n.signaturesOffset=t.longs===String?String(e.signaturesOffset):e.signaturesOffset:n.signaturesOffset=t.longs===String?G.Long.prototype.toString.call(e.signaturesOffset):t.longs===Number?new G.LongBits(e.signaturesOffset.low>>>0,e.signaturesOffset.high>>>0).toNumber(!0):e.signaturesOffset),null!=e.signaturesSize&&e.hasOwnProperty("signaturesSize")&&("number"===typeof e.signaturesSize?n.signaturesSize=t.longs===String?String(e.signaturesSize):e.signaturesSize:n.signaturesSize=t.longs===String?G.Long.prototype.toString.call(e.signaturesSize):t.longs===Number?new G.LongBits(e.signaturesSize.low>>>0,e.signaturesSize.high>>>0).toNumber(!0):e.signaturesSize),null!=e.minorVersion&&e.hasOwnProperty("minorVersion")&&(n.minorVersion=e.minorVersion),e.partitions&&e.partitions.length){n.partitions=[];for(let a=0;a<e.partitions.length;++a)n.partitions[a]=Y.chromeos_update_engine.PartitionUpdate.toObject(e.partitions[a],t)}if(null!=e.maxTimestamp&&e.hasOwnProperty("maxTimestamp")&&("number"===typeof e.maxTimestamp?n.maxTimestamp=t.longs===String?String(e.maxTimestamp):e.maxTimestamp:n.maxTimestamp=t.longs===String?G.Long.prototype.toString.call(e.maxTimestamp):t.longs===Number?new G.LongBits(e.maxTimestamp.low>>>0,e.maxTimestamp.high>>>0).toNumber():e.maxTimestamp),null!=e.dynamicPartitionMetadata&&e.hasOwnProperty("dynamicPartitionMetadata")&&(n.dynamicPartitionMetadata=Y.chromeos_update_engine.DynamicPartitionMetadata.toObject(e.dynamicPartitionMetadata,t)),null!=e.partialUpdate&&e.hasOwnProperty("partialUpdate")&&(n.partialUpdate=e.partialUpdate),e.apexInfo&&e.apexInfo.length){n.apexInfo=[];for(let a=0;a<e.apexInfo.length;++a)n.apexInfo[a]=Y.chromeos_update_engine.ApexInfo.toObject(e.apexInfo[a],t)}return null!=e.securityPatchLevel&&e.hasOwnProperty("securityPatchLevel")&&(n.securityPatchLevel=e.securityPatchLevel),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Z.util.toJSONOptions)},e.getTypeUrl=function(e){return void 0===e&&(e="type.googleapis.com"),e+"/chromeos_update_engine.DeltaArchiveManifest"},e}(),e})();var te=n(1114),ne=(n(6573),n(8100),n(7936),n(9577),n(4520),n(1549),n(9797),n(9631),n(5623),n(4979),n(5253));n(8872);class ae extends ee.DeltaArchiveManifest{constructor(e){super(),(0,te.A)(this,"nonAB",!0),(0,te.A)(this,"Blocksize",4096),(0,te.A)(this,"packedFile",void 0),this.packedFile=e}async init(){this.Blocksize=4096,this.partialUpdate=!1,this.dynamicPartitionMetadata=new ee.DynamicPartitionMetadata({snapshotEnabled:!1,vabcEnabled:!1}),this.partitions=[];const e=/[\w_]+(?=\.transfer.list)/g,t=await this.packedFile.getEntries();for(const n of t.filter(e=>!e.directory))if(n.filename.match(e)){const t=n.filename.match(e)[0];let a=new ee.PartitionUpdate({partitionName:t});a.rawText=await n.getData(new ne.rd),await this.parseTransferList(a),this.partitions.push(a)}if(0==this.partitions.length)throw new Error("Invalid OTA package")}async parseTransferList(e){let t=e.rawText.split("\n");if(t.length<4)throw"At least 4 lines in header should be provided.";e.version=t[0],e.totalBlocks=parseInt(t[1]),e.entryStashed=parseInt(t[2]),e.maxStashed=parseInt(t[3]),e.newPartitionInfo=new ee.PartitionInfo,e.newPartitionInfo.hash=new Uint8Array,e.newPartitionInfo.size="unknown",e.operations=new Array;let n=await this.sizeNewData(e.partitionName);for(const a of t.slice(4)){let t=new ee.InstallOperation,r=a.split(" ");switch(t.type=r[0],t.type){case"zero":t.dstExtents=r.slice(1).reduce(re,[]);break;case"new":t.dataLength=n||0,n=0,t.dstExtents=r.slice(1).reduce(re,[]);break;case"erase":t.dstExtents=r.slice(1).reduce(re,[]);break;case"move":t.dstExtents=re([],r[2]);break;case"bsdiff":t.dataOffset=parseInt(r[1]),t.dataLength=parseInt(r[2]),t.dstExtents=re([],r[5]);break;case"imgdiff":t.dataOffset=parseInt(r[1]),t.dataLength=parseInt(r[2]),t.dstExtents=re([],r[5]);break;case"stash":break;case"free":break}e.operations.push(t)}}async sizeNewData(e){const t=await this.packedFile.getEntries(),n=new RegExp(e+".new.dat.*");for(const a of t)if(a.filename.match(n))return a.uncompressedSize}}function re(e,t){const n=new RegExp("[d,]+");if(t.match(n)){let n=t.split(",");for(let t=1;t<n.length;t+=2){let a=new Object({startBlock:parseInt(n[t]),numBlocks:parseInt(n[t+1])-parseInt(n[t])});e.push(a)}}return e}const oe="CrAU",ie=8,se=8,le=4,ce=oe.length+ie+se+le,pe=2,ue=[{prefix:"pre-build",key:"preBuild",name:"Pre-build"},{prefix:"pre-build-incremental",key:"preBuildVersion",name:"Pre-build version"},{prefix:"post-build",key:"postBuild",name:"Post-build"},{prefix:"post-build-incremental",key:"postBuildVersion",name:"Post-build version"},{prefix:"post-security-patch-level",key:"postSecurityPatchLevel",name:"Post-build SPL"},{prefix:"post-timestamp",key:"postTimestamp",name:"Post-build timestamp"}];class de{constructor(e,t,n,a){(0,te.A)(this,"magic",void 0),(0,te.A)(this,"version",void 0),(0,te.A)(this,"manifest_len",void 0),(0,te.A)(this,"metadata_signature_len",void 0),this.magic=e,this.version=t,this.manifest_len=n,this.metadata_signature_len=a}}async function he(e,t,n){let a=new DataView(await e.slice(t,t+n).arrayBuffer());switch("function"!==typeof a.getBigUint64&&(a.getBigUint64=function(e){const t=BigInt(a.getUint32(e)),n=BigInt(a.getUint32(e+4)),r=4294967296n*t+n;return r}),n){case 2:return a.getUint16(0);case 4:return a.getUint32(0);case 8:return Number(a.getBigUint64(0));default:throw"Cannot read this integer with size "+n}}class fe extends ne.AU{async readHeader(e){let t=0;const n=n=>{const a=he(e,t,n);return t+=n,a};let a=await e.slice(0,ce).arrayBuffer(),r=new TextDecoder,o=a.slice(0,oe.length);const i=r.decode(o);if(i!=oe)throw new Error(`MAGIC is not correct, expected: ${oe} actual: ${i}`);t+=oe.length;const s=await n(ie),l=await n(se);if(s!=pe)throw new Error(`Unexpected major version number: ${s}`);const c=await n(le);this.header=new de(i,s,l,c)}constructor(e=""){super(),(0,te.A)(this,"offset",void 0),(0,te.A)(this,"contentType",void 0),(0,te.A)(this,"blob",void 0),(0,te.A)(this,"prefixLength",void 0),(0,te.A)(this,"abortController",void 0),(0,te.A)(this,"header",void 0),this.offset=0,this.contentType=e,this.blob=new Blob([],{type:e}),this.prefixLength=0,this.abortController=new AbortController}async writeUint8Array(e){super.writeUint8Array(e),this.blob=new Blob([this.blob,e.buffer],{type:this.contentType}),this.offset=this.blob.size,this.offset>=ce&&0==this.prefixLength&&(console.log("Parsing header!"),await this.readHeader(this.blob),this.prefixLength=ce+this.header.manifest_len+this.header.metadata_signature_len,console.log(`Computed metadata length: ${this.prefixLength}`)),this.prefixLength>0&&(console.log(`${this.offset}/${this.prefixLength}`),this.offset>=this.prefixLength&&(this.blob=this.blob.slice(0,this.prefixLength),this.abortController.abort()))}async getData(){return this.blob}}class ge extends Error{}class me{constructor(e){(0,te.A)(this,"zipreader",void 0),(0,te.A)(this,"buffer",void 0),(0,te.A)(this,"metadata",void 0),(0,te.A)(this,"payload_properties",void 0),(0,te.A)(this,"manifest",void 0),(0,te.A)(this,"metadata_signature",void 0),(0,te.A)(this,"header",void 0),e instanceof File?this.zipreader=new ne.zg(new ne.nZ(e)):e instanceof URL?this.zipreader=new ne.zg(new ne.sW(e.href)):this.zipreader=e.reader,this.payload_properties=[]}getMetadataLength(){return ce+this.header.manifest_len+this.header.metadata_signature_len}async unzip(){let e=(await this.zipreader.getEntries()).filter(e=>!e.directory);for(let n of e)if("payload.bin"==n.filename){let e=new fe("");try{await n.getData(e,{signal:e.abortController.signal})}catch(t){if(!e.blob)throw console.log(t),t}if(this.buffer=await e.getData(),!this.buffer)throw new ge("payload.bin is invalid");await this.readManifest(this.buffer,e.header),console.log("AB OTA manifest parsed")}else if("META-INF/com/android/metadata"==n.filename)this.metadata=await n.getData(new ne.rd),console.log("OTA Package metadata parsed");else if("payload_properties.txt"==n.filename){let e=await n.getData(new ne.rd);this.payload_properties=e.split("\n"),console.log("OTA payload_properties.txt parsed"),console.log(this.getPayloadHash())}if(!this.manifest){console.log("Failed to parse AB OTA package, falling back to non-AB");let e=new ae(this.zipreader);await e.init(),e.nonAB=!0,this.manifest=e}}getPayloadHash(){const e="FILE_HASH=";for(let t of this.payload_properties)if(t.startsWith(e))return ke(t.substring(e.length));return""}async readManifest(e,t){this.header=t;let n=ce,a=await e.slice(n,n+t.manifest_len).arrayBuffer();n+=t.manifest_len,this.manifest=ee.DeltaArchiveManifest.decode(new Uint8Array(a));let r=await e.slice(n,n+t.metadata_signature_len).arrayBuffer();n+=t.metadata_signature_len,this.metadata_signature=ee.Signatures.decode(new Uint8Array(r)),this.manifest.nonAB=!1}parseMetadata(){for(let e of ue){let t=new RegExp(e.prefix+".+");this.metadata&&this.metadata.match(t)?this[e.key]=Se(this.metadata.match(t)[0],e.prefix):this[e.key]=""}}async init(){await this.unzip(),this.parseMetadata()}}class ye extends Map{getWithDefault(e){return this.has(e)?this.get(e):e}}class be{constructor(){(0,te.A)(this,"mapType",void 0);let e=ee.InstallOperation.Type;this.mapType=new ye;for(let t of Object.keys(e))this.mapType.set(e[t],t)}}class we{constructor(){(0,te.A)(this,"mapType",void 0);let e=ee.CowMergeOperation.Type;this.mapType=new ye;for(let t of Object.keys(e))this.mapType.set(e[t],t)}}function Oe(e,t=!0,n=16){let a="";for(let r=0;r<e.length;r++){const o=e[r].toString(16).toUpperCase();2===o.length?a+=o+(t?" ":""):a+="0"+o+(t?" ":""),(r+1)%n==0&&t&&(a+="\n")}return a}function Se(e,t){return e.slice(t.length+1,e.length)}function ke(e){const t=atob(e);return Uint8Array.from(t,e=>e.codePointAt(0))}const xe={key:0},Pe={key:1},_e={key:2},ve={key:3};function Ee(e,t,n,a,r,o){const i=(0,l.g2)("v-divider");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("ul",null,[(0,l.Lk)("h5",null,(0,c.v_)(e.mapType.getWithDefault(e.operation.type)),1),e.operation.hasOwnProperty("dataOffset")?((0,l.uX)(),(0,l.CE)("li",xe,[t[0]||(t[0]=(0,l.Lk)("strong",null," Data offset: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.operation.dataOffset),1)])):(0,l.Q3)("",!0),e.operation.hasOwnProperty("dataLength")?((0,l.uX)(),(0,l.CE)("li",Pe,[t[1]||(t[1]=(0,l.Lk)("strong",null," Data length: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.operation.dataLength),1)])):(0,l.Q3)("",!0),e.operation.hasOwnProperty("srcExtents")?((0,l.uX)(),(0,l.CE)("li",_e,[t[2]||(t[2]=(0,l.Lk)("strong",null," Source: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.operation.srcExtents.length)+" extents ("+(0,c.v_)(e.srcTotalBlocks)+" blocks) ",1),t[3]||(t[3]=(0,l.Lk)("br",null,null,-1)),(0,l.eW)(" "+(0,c.v_)(e.srcBlocks),1)])):(0,l.Q3)("",!0),e.operation.hasOwnProperty("dstExtents")?((0,l.uX)(),(0,l.CE)("li",ve,[t[4]||(t[4]=(0,l.Lk)("strong",null," Destination: ",-1)),(0,l.eW)(" "+(0,c.v_)(e.operation.dstExtents.length)+" extents ("+(0,c.v_)(e.dstTotalBlocks)+" blocks) ",1),t[5]||(t[5]=(0,l.Lk)("br",null,null,-1)),(0,l.eW)(" "+(0,c.v_)(e.dstBlocks),1)])):(0,l.Q3)("",!0)]),(0,l.bF)(i)],64)}n(3949);class Le{constructor(e,t,n,a=15){(0,te.A)(this,"statisticData",void 0),(0,te.A)(this,"trimmedData",void 0),(0,te.A)(this,"title",void 0),(0,te.A)(this,"unit",void 0),(0,te.A)(this,"maximumEntries",void 0),this.statisticData=e,this.trimmedData=Ce(e,a),this.title=t,this.unit=n,this.maximumEntries=a}listData(){let e="";for(let[t,n]of this.statisticData)e+=t+" : "+n.toString()+" Blocks\n";return e}getEchartsOption(){let e={};return e.title={text:this.title,left:"center"},e.tooltip={trigger:"item",formatter:"{a} <br/>{b} : {c} "+this.unit+" ({d}%)"},e.legend={orient:"horizontal",left:"top",top:"10%",data:Array.from(this.trimmedData.keys())},e.series=[{name:this.title,type:"pie",radius:"55%",center:["50%","60%"],data:Array.from(this.trimmedData).map(e=>({value:e[1],name:e[0]})),emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],e}}function Ce(e,t){if(e.size<=t)return e;let n=new Map;for(let r=0;r<t;r++){let t=0,a="";for(let[r,o]of e)n.get(r)||o>t&&(t=o,a=r);n.set(a,t)}let a=0;for(let[r,o]of e)n.get(r)||(a+=o);return n.set("other",a),n}class ze{constructor(e){(0,te.A)(this,"build",void 0),(0,te.A)(this,"mapFiles",void 0),(0,te.A)(this,"maps",void 0),e instanceof File?this.build=new ne.zg(new ne.nZ(e)):this.build=new ne.zg(new ne.sW(e.href)),this.mapFiles=new Map,this.maps=new Map}async init(){let e=await this.build.getEntries();const t=/IMAGES\/[a-z_]*\.map/g,n=/[\w_]+(?=\.map)/g;e.forEach(e=>{e.filename.match(t)&&this.mapFiles.set(e.filename.match(n)[0],e)})}async add(e,t){let n=[];const a=/\d+/g,r=/\d+\-\d+/g;for(let o=0;o<t;o++)n[o]=`<${e}>`;if(this.mapFiles.get(e)){let t=await this.mapFiles.get(e).getData(new ne.rd),o=t.split("\n");for(let e of o){let t=e.split(" ");for(let e=1;e<t.length;e++){let o=0,i=0;t[e].match(r)?(o=parseInt(t[e].match(/\d+/g)[0]),i=parseInt(t[e].match(/\d+/g)[1])):(o=parseInt(t[e].match(a)),i=parseInt(t[e].match(a))),Ie(n,t[0],o,i)}}this.maps.set(e,n)}else this.maps.set(e,n)}query(e,t){let n=[],a=this.maps.get(e);for(let r of t)n.push(Te(a,r.startBlock||0,(r.startBlock||0)+(r.numBlocks||0)));return n}}function Ie(e,t,n,a){for(let r=n;r<=a;r++)e[r]=t}function Te(e,t,n){return e[t]?e[t]:"unknown"}function Ae(e,t,n){e.get(t)||e.set(t,0),e.set(t,e.get(t)+n)}function Fe(e){let t=new Map,n=new be;for(let a of e)for(let e of a.operations){let a=n.mapType.getWithDefault(e.type);Ae(t,a,Ve(e.dstExtents))}return t}function Be(e){if(!e.operations)return 0;let t=0;for(let n of e.operations)t+=n.dataLength||0;return t}function je(e){let t=new Map;for(let n of e)Ae(t,n.partitionName,Be(n));return t}function Ne(e,t){let n=new Map,a=new we,r=0;for(let o of e){for(let e of o.mergeOperations){let t=a.mapType.getWithDefault(e.type);Ae(n,t,e.dstExtent.numBlocks||0)}if(null==o.newPartitionInfo)throw new Error(`Partition ${o.partitionName} doesn't have new_partition_info field.`);r+=Math.ceil(o.newPartitionInfo.size/t)}return n.forEach((e,t)=>r-=e),n.set("COW_REPLACE",r),n}function De(e){let t=new Map,n=new be;for(let a of e)for(let e of a.operations){let a=n.mapType.getWithDefault(e.type);Ae(t,a,e.dataLength||0)}return t}async function Me(e,t,n){let a=await Ue(e,t,n);const r=new Map;return a.forEach((e,t)=>{Ae(r,Re(t),e)}),r}async function Ue(e,t,n){let a=new Map;if(!n)return a;let r=new ze(n);await r.init();for(let o of e){await r.add(o.partitionName,Math.ceil((o.newPartitionInfo.size||0)/t));for(let e of o.operations){if(!e.hasOwnProperty("dataLength"))continue;let t=r.query(o.partitionName,e.dstExtents),n=Xe(t,e.dstExtents,e.dataLength||0);n.forEach((e,t)=>{Ae(a,t,e)})}}return a}async function We(e,t,n=4096,a=null){let r,o;switch(e){case"blocks":r=Fe(t),o=new Le(r,"Operated blocks in target build","blocks");break;case"payload":r=De(t),o=new Le(r,"Payload disk usage","bytes");break;case"COWmerge":r=Ne(t,n),o=new Le(r,"COW merge operations","blocks");break;case"filenames":if(null==a)throw new Error("Target file is required for filenames analysis");r=await Ue(t,n,a),o=new Le(r,"Size of operated filenames","bytes");break;case"extensions":if(null==a)throw new Error("Target file is required for filenames analysis");r=await Me(t,n,a),o=new Le(r,"Size of operated extensions","bytes");break;case"partitions":r=je(t),o=new Le(r,"Partition payload size","bytes");break}if(o)return o;throw"Please double check if this is a proper AB OTA package."}function Ve(e){if(!e)return 0;const t=(e,t)=>e+(t.numBlocks||0);return e.reduce(t,0)}function He(e){const t=(e,t)=>e+"("+t.startBlock+","+t.numBlocks+")";return e.reduce(t,"")}function Xe(e,t,n){let a=Ve(t),r=new Map;for(let o=0;o<e.length;o++)Ae(r,e[o],Math.round(n*(t[o].numBlocks||0)/a));return r}function Re(e){let t=e.split(".");return t.length>1?t[t.length-1]:"unknown"===t[0]?"unknown":"<"==e[0]&&e.endsWith(">")?e:"no-extension"}var Qe=(0,l.pM)({props:{operation:{type:Object,required:!0},mapType:{type:ye,required:!0}},data(){return{srcTotalBlocks:0,srcBlocks:"",dstTotalBlocks:0,dstBlocks:""}},mounted(){this.operation.srcExtents&&(this.srcTotalBlocks=Ve(this.operation.srcExtents),this.srcBlocks=He(this.operation.srcExtents)),this.operation.dstExtents&&(this.dstTotalBlocks=Ve(this.operation.dstExtents),this.dstBlocks=He(this.operation.dstExtents))}});const Je=(0,d.A)(Qe,[["render",Ee],["__scopeId","data-v-44174082"]]);var $e=Je,Ze=(0,l.pM)({components:{OperationDetail:$e},props:{partition:{type:ee.PartitionUpdate,required:!0},dynamicPartitionList:{type:Array,required:!0}},data(){return{showOPs:!1,showInfo:!1,opType:new be}},methods:{toggle(e){this[e]=!this[e]},octToHex:Oe},computed:{readableTimestamp(){const e=parseInt(this.partition.version);return isNaN(e)?"":new Date(1e3*e).toString()},isDynamicPartition(){return this.dynamicPartitionList.indexOf(this.partition.partitionName)>=0},isFECEnabled(){return this.partition.fecExtent?.numBlocks>0},isHashtreeEnabled(){return this.partition.hashTreeExtent?.numBlocks>0}}});const Ke=(0,d.A)(Ze,[["render",$],["__scopeId","data-v-4686bb1a"]]);var qe=Ke;const Ge={class:"align"},Ye={class:"align"},et={class:"wrap"},tt={key:2},nt={class:"align"},at={key:0},rt={key:1},ot={key:0},it={key:1},st={key:0},lt={key:1},ct={key:0},pt={key:0},ut={key:1},dt={key:1},ht={key:0},ft={key:1},gt={key:0},mt={key:1},yt={key:2},bt={key:3},wt={key:4},Ot={key:5},St={key:6},kt={key:7};function xt(e,t,n,a,r,o){return(0,l.uX)(),(0,l.CE)(l.FK,null,[t[14]||(t[14]=(0,l.Lk)("h3",null,"Basic infos",-1)),e.zipFile?((0,l.uX)(),(0,l.CE)("div",(0,c._B)((0,l.v6)({key:0},e.$attrs)),[(0,l.Lk)("ul",Ge,[(0,l.Lk)("li",null,[t[0]||(t[0]=(0,l.Lk)("strong",null," File name ",-1)),(0,l.eW)(" "+(0,c.v_)(e.zipFile.getFileName()),1)]),(0,l.Lk)("li",null,[t[1]||(t[1]=(0,l.Lk)("strong",null," File size ",-1)),(0,l.eW)(" "+(0,c.v_)(e.zipFile.getFileSize())+" Bytes",1)])])],16)):(0,l.Q3)("",!0),e.payload&&e.payload.metadata?((0,l.uX)(),(0,l.CE)("div",(0,c._B)((0,l.v6)({key:1},e.$attrs)),[(0,l.Lk)("ul",Ye,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.otaMetadata,t=>((0,l.uX)(),(0,l.CE)("li",{key:t.name},[(0,l.Lk)("strong",null,(0,c.v_)(t.name.trim()+" "),1),(0,l.Lk)("p",et,(0,c.v_)(String(e.payload[t.key]).trim()),1)]))),128))])],16)):(0,l.Q3)("",!0),e.payload&&e.payload.manifest?((0,l.uX)(),(0,l.CE)("div",tt,[(0,l.Lk)("ul",nt,[(0,l.Lk)("li",null,[t[2]||(t[2]=(0,l.Lk)("strong",null," Incremental ",-1)),e.payload.preBuild?((0,l.uX)(),(0,l.CE)("span",at," ✅ ")):((0,l.uX)(),(0,l.CE)("span",rt," ❌ "))]),(0,l.Lk)("li",null,[t[3]||(t[3]=(0,l.Lk)("strong",null," Partial ",-1)),e.payload.manifest.partialUpdate?((0,l.uX)(),(0,l.CE)("span",ot," ✅ ")):((0,l.uX)(),(0,l.CE)("span",it," ❌ "))]),(0,l.Lk)("li",null,[t[4]||(t[4]=(0,l.Lk)("strong",null," A/B update ",-1)),e.payload.manifest.nonAB?((0,l.uX)(),(0,l.CE)("span",lt," ❌ ")):((0,l.uX)(),(0,l.CE)("span",st," ✅ "))]),e.payload.manifest.dynamicPartitionMetadata?((0,l.uX)(),(0,l.CE)("li",ct,[t[5]||(t[5]=(0,l.Lk)("strong",null," VAB ",-1)),e.payload.manifest.dynamicPartitionMetadata.snapshotEnabled?((0,l.uX)(),(0,l.CE)("span",pt," ✅ ")):((0,l.uX)(),(0,l.CE)("span",ut," ❌ "))])):(0,l.Q3)("",!0),e.payload.manifest.dynamicPartitionMetadata?((0,l.uX)(),(0,l.CE)("li",dt,[t[6]||(t[6]=(0,l.Lk)("strong",null," VABC ",-1)),e.payload.manifest.dynamicPartitionMetadata.vabcEnabled?((0,l.uX)(),(0,l.CE)("span",ht," ✅ ")):((0,l.uX)(),(0,l.CE)("span",ft," ❌ "))])):(0,l.Q3)("",!0),(0,l.Lk)("li",null,[t[7]||(t[7]=(0,l.Lk)("strong",null," Wipes Data ",-1)),e.isDataWipePackage?((0,l.uX)(),(0,l.CE)("span",gt," ✅ ")):((0,l.uX)(),(0,l.CE)("span",mt," ❌ "))]),e.totalDynamicPartitionSize?((0,l.uX)(),(0,l.CE)("li",yt,[t[8]||(t[8]=(0,l.Lk)("strong",null," Total Dynamic Partition Size ",-1)),(0,l.eW)(" "+(0,c.v_)(e.totalDynamicPartitionSize),1)])):(0,l.Q3)("",!0),e.totalCOWSize?((0,l.uX)(),(0,l.CE)("li",bt,[t[9]||(t[9]=(0,l.Lk)("strong",null," Total VABC COW Size ",-1)),(0,l.eW)(" "+(0,c.v_)(e.totalCOWSize),1)])):(0,l.Q3)("",!0),e.vabcCompressionParam?((0,l.uX)(),(0,l.CE)("li",wt,[t[10]||(t[10]=(0,l.Lk)("strong",null," VABC Compression Algorithm ",-1)),(0,l.eW)(" "+(0,c.v_)(e.vabcCompressionParam),1)])):(0,l.Q3)("",!0),e.compressionFactor?((0,l.uX)(),(0,l.CE)("li",Ot,[t[11]||(t[11]=(0,l.Lk)("strong",null," Compression Factor ",-1)),(0,l.eW)(" "+(0,c.v_)(e.compressionFactor),1)])):(0,l.Q3)("",!0),e.cowVersion?((0,l.uX)(),(0,l.CE)("li",St,[t[12]||(t[12]=(0,l.Lk)("strong",null," Cow Version ",-1)),(0,l.eW)(" "+(0,c.v_)(e.cowVersion),1)])):(0,l.Q3)("",!0),e.securityPatchLevel?((0,l.uX)(),(0,l.CE)("li",kt,[t[13]||(t[13]=(0,l.Lk)("strong",null," Security Patch Level ",-1)),(0,l.eW)(" "+(0,c.v_)(e.securityPatchLevel),1)])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)],64)}n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);class Pt{constructor(e){(0,te.A)(this,"file",void 0),(0,te.A)(this,"reader",void 0),this.file=e,this.reader=vt(e)}getFileName(){return Et(this.file)}getFileSize(){return this.file instanceof File?this.file.size:0}}async function _t(e,t){const n=e,a=new ne.Vx(new ne.D7("application/zip")),r=await n.getEntries();for(const o of r.filter(e=>!!e&&t(e))){if(o.directory)continue;const e=new ne.D7,t=await o.getData(e);console.log(`Adding ${o.filename}, ${t.size}`),a.add(o.filename,new ne.nZ(await e.getData()),{level:0})}return a}function vt(e){return e instanceof File?new ne.zg(new ne.nZ(e)):new ne.zg(new ne.sW(e.href))}function Et(e){return e instanceof File?e.name:e.pathname}async function Lt(e){const t=await _t(vt(e),e=>e.filename.startsWith("META/")||e.filename.endsWith(".map")||e.filename.endsWith(".prop")||"prop.default"==e.filename);return await t.close()}async function Ct(e){const t=await _t(e.zipreader,e=>"payload.bin"!=e.filename);await t.add("payload.bin",new ne.nZ(e.buffer.slice(0,e.getMetadataLength())),{level:0});const n=await t.close();return n}function zt(e,t,n){const a=window.URL.createObjectURL(e);t.href=a,t.download=n,t.click(),window.URL.revokeObjectURL(a)}function It(e,t){return e.endsWith(t)?e:e+t}var Tt=(0,l.pM)({props:{zipFile:{type:Pt,required:!0},payload:{type:me,required:!0}},data(){return{MetadataFormat:ue}},computed:{isDataWipePackage(){return this.payload.payload_properties.includes("POWERWASH=1")},otaMetadata(){return ue.filter(e=>String(this.payload[e.key]).length>0)},totalCOWSize(){const e=this.payload?.manifest?.partitions.map(e=>e.estimateCowSize||0);return e&&0!=e.length?e.reduce((e,t)=>e+t):0},vabcCompressionParam(){return this.payload?.manifest?.dynamicPartitionMetadata?.vabcCompressionParam||""},compressionFactor(){return this.payload?.manifest?.dynamicPartitionMetadata?.compressionFactor||0},cowVersion(){return this.payload?.manifest?.dynamicPartitionMetadata?.cowVersion||0},securityPatchLevel(){const e=this.payload?.manifest?.securityPatchLevel;return e||""},totalDynamicPartitionSize(){const e=this.payload?.manifest?.dynamicPartitionMetadata?.groups;if(!e)return 0;const t=new Set(e.flatMap(e=>e.partitionNames)),n=this.payload.manifest?.partitions.filter(e=>t.has(e.partitionName))||[];return n.length<=0?0:n.map(e=>e.newPartitionInfo?.size||0).reduce((e,t)=>e+t)}}});const At=(0,d.A)(Tt,[["render",xt],["__scopeId","data-v-1f7d3d65"]]);var Ft=At,Bt=(0,l.pM)({components:{PartitionDetail:qe,BasicInfo:Ft},props:{zipFile:{type:Pt,default:null},payload:{type:me,default:null}},methods:{octToHex:Oe,async exportOTAPackage(){const e=await Ct(this.payload),t=this.$refs["download"];zt(e,t,"trimmed_"+It(this.zipFile.getFileName(),".zip"))}},computed:{dynamicPartitions(){return this.payload.manifest?.dynamicPartitionMetadata?.groups?.flatMap(e=>e.partitionNames||[])||[]},payloadHash(){const e=this.payload?.getPayloadHash();return e?Oe(e,!1):""}}});const jt=(0,d.A)(Bt,[["render",I],["__scopeId","data-v-5dd4ca12"]]);var Nt=jt;const Dt={ref:"download"},Mt={key:1},Ut={key:0,class:"tooltiptext"};function Wt(e,t,n,a,r,o){const i=(0,l.g2)("v-btn"),s=(0,l.g2)("PartialCheckbox"),c=(0,l.g2)("PieChart"),p=(0,l.g2)("v-divider"),u=(0,l.g2)("v-col"),d=(0,l.g2)("v-row"),h=(0,l.g2)("BaseFile");return(0,l.uX)(),(0,l.CE)(l.FK,null,[e.targetFile?((0,l.uX)(),(0,l.Wv)(i,{key:0,block:"",class:"md-6",onClick:e.exportTargetFileMetadata},{default:(0,l.k6)(()=>[...t[7]||(t[7]=[(0,l.eW)("Export Target File Metadata",-1)])]),_:1},8,["onClick"])):(0,l.Q3)("",!0),(0,l.Lk)("a",Dt,null,512),(0,l.bF)(s,{modelValue:e.partitionInclude,"onUpdate:modelValue":t[0]||(t[0]=t=>e.partitionInclude=t),labels:e.updatePartitions},null,8,["modelValue","labels"]),e.echartsData?((0,l.uX)(),(0,l.CE)("div",Mt,[(0,l.bF)(c,{echartsData:e.echartsData,onClick:e.piechartClick},null,8,["echartsData","onClick"])])):(0,l.Q3)("",!0),(0,l.bF)(p),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{onClick:t[1]||(t[1]=t=>e.updateChart("blocks"))},{default:(0,l.k6)(()=>[...t[8]||(t[8]=[(0,l.eW)(" Analyse Installed Blocks ",-1)])]),_:1})]),_:1}),(0,l.bF)(u,{cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{onClick:t[2]||(t[2]=t=>e.updateChart("payload"))},{default:(0,l.k6)(()=>[...t[9]||(t[9]=[(0,l.eW)(" Analyse Payload Composition ",-1)])]),_:1})]),_:1}),(0,l.bF)(u,{cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{onClick:t[3]||(t[3]=t=>e.updateChart("partitions"))},{default:(0,l.k6)(()=>[...t[10]||(t[10]=[(0,l.eW)(" Analyse Partition Payload Composition ",-1)])]),_:1})]),_:1})]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{cols:"12",md:"4",class:"tooltip"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{disabled:e.manifest.nonAB||!e.manifest.dynamicPartitionMetadata||!e.manifest.dynamicPartitionMetadata.vabcEnabled,title:"Only available for VABC update",block:"",onClick:t[4]||(t[4]=t=>e.updateChart("COWmerge"))},{default:(0,l.k6)(()=>[...t[11]||(t[11]=[(0,l.eW)(" Analyse COW Merge Operations ",-1)])]),_:1},8,["disabled"]),e.manifest.nonAB?((0,l.uX)(),(0,l.CE)("span",Ut," This function is only supported in A/B OTA ")):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(u,{cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{block:"",disabled:!e.targetFile,onClick:t[5]||(t[5]=t=>e.updateChart("filenames"))},{default:(0,l.k6)(()=>[...t[12]||(t[12]=[(0,l.eW)(" Analyse Filenames ",-1)])]),_:1},8,["disabled"])]),_:1}),(0,l.bF)(u,{cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.bF)(i,{block:"",disabled:!e.targetFile,onClick:t[6]||(t[6]=t=>e.updateChart("extensions"))},{default:(0,l.k6)(()=>[...t[13]||(t[13]=[(0,l.eW)(" Analyse File Extensions ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1}),(0,l.bF)(d,null,{default:(0,l.k6)(()=>[(0,l.bF)(u,{cols:"12",md:"6"}),(0,l.bF)(u,{cols:"12",md:"6"},{default:(0,l.k6)(()=>[e.demo?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(h,{key:0,label:"Drag and drop or Select The target Android build",onFileSelect:e.selectBuild},null,8,["onFileSelect"]))]),_:1})]),_:1})],64)}var Vt=n(4335);const Ht=["value","checked"],Xt={key:0};function Rt(e,t,n,a,r,o){const i=(0,l.g2)("v-btn"),s=(0,l.g2)("v-col"),p=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(i,{block:"",type:"button",class:"my-5",onClick:e.revertAllSelection},{default:(0,l.k6)(()=>[(0,l.eW)((0,c.v_)(e.selectAllText[e.selectAll]),1)]),_:1},8,["onClick"]),(0,l.bF)(p,{class:"mb-5"},{default:(0,l.k6)(()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.labels,n=>((0,l.uX)(),(0,l.Wv)(s,{key:n,cols:"12",md:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("input",{type:"checkbox",value:n,checked:e.modelValue.get(n),onChange:t[0]||(t[0]=t=>e.updateSelected(t.target.value))},null,40,Ht),n?((0,l.uX)(),(0,l.CE)("label",Xt,(0,c.v_)(n),1)):(0,l.Q3)("",!0)]),_:2},1024))),128))]),_:1})],64)}var Qt=(0,l.pM)({props:{labels:{type:Array,default:new Array},modelValue:{type:Map,default:new Map}},data(){return{selectAll:1,selectAllText:["Select All","Unselect All"]}},mounted(){for(let e of this.labels)this.modelValue.set(e,!0)},methods:{updateSelected(e){this.modelValue.set(e,!this.modelValue.get(e)),this.$emit("update:modelValue",this.modelValue)},revertAllSelection(){this.selectAll=1-this.selectAll;for(let e of this.modelValue.keys())this.modelValue.set(e,Boolean(this.selectAll))}}});const Jt=(0,d.A)(Qt,[["render",Rt],["__scopeId","data-v-533f2336"]]);var $t=Jt;function Zt(e,t,n,a,r,o){const i=(0,l.g2)("v-chart");return(0,l.uX)(),(0,l.Wv)(i,{class:"chart",option:o.getEchartsOption,onClick:t[0]||(t[0]=t=>e.$emit("click",...arguments))},null,8,["option"])}var Kt=n(5806),qt=n(6411),Gt=n(3133),Yt=n(4064),en=n(4307),tn=n(5116),nn=n(1660);(0,Kt.Y)([qt.a,Gt.a,Yt.a,en.a,tn.a]);var an={components:{VChart:nn.Ay},provide:{[nn.k4]:"dark"},props:{echartsData:{type:Le,required:!0}},computed:{getEchartsOption(){return this.echartsData.getEchartsOption()}}};const rn=(0,d.A)(an,[["render",Zt],["__scopeId","data-v-5d1cb486"]]);var on=rn,sn=(0,l.pM)({components:{PartialCheckbox:$t,PieChart:on,BaseFile:P},props:{manifest:{type:ee.DeltaArchiveManifest,default:()=>[]},demo:{type:Boolean,default:!1}},data(){return{partitionInclude:new Map,echartsData:null,listData:"",targetFile:null}},computed:{updatePartitions(){return this.manifest.partitions.map(e=>e.partitionName)}},async mounted(){if(this.demo)try{const e=await Vt.A.get("./files/cf_x86_target_file_demo.zip",{responseType:"blob"});this.targetFile=new File([e.data],"target_demo.zip")}catch(e){console.log("Please put a proper example target file in /public/files/")}},methods:{piechartClick(e){console.log(e)},async updateChart(e){let t=this.manifest.partitions.filter(e=>this.partitionInclude.get(e.partitionName));try{this.echartsData=await We(e,t,this.manifest.blockSize,this.targetFile)}catch(n){alert(`Cannot be processed for the following issue: ${n}`)}},selectBuild(e){this.targetFile=e},async exportTargetFileMetadata(){const e=await Lt(this.targetFile),t=this.$refs["download"];zt(e,t,"trimmed_"+It(Et(this.targetFile),".zip"))}}});const ln=(0,d.A)(sn,[["render",Wt],["__scopeId","data-v-154c6725"]]);var cn=ln,pn=(0,l.pM)({components:{BaseFile:P,PayloadDetail:Nt,PayloadComposition:cn},data(){return{zipFile:null,payload:null}},methods:{async unpackOTA(e){this.zipFile=new Pt(e);try{const e=new me(this.zipFile);await e.init(),this.payload=e}catch(t){alert(`Please check if this is a correct OTA package (.zip). ${t}`),console.log(t)}}}});const un=(0,d.A)(pn,[["render",m]]);var dn=un;function hn(e,t,n,a,r,o){const i=(0,l.g2)("PayloadDetail"),s=(0,l.g2)("v-col"),c=(0,l.g2)("v-divider"),p=(0,l.g2)("PayloadComposition"),u=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.Wv)(u,null,{default:(0,l.k6)(()=>[(0,l.bF)(s,{cols:"12",md:"6"},{default:(0,l.k6)(()=>[e.zipFile&&e.payload?((0,l.uX)(),(0,l.Wv)(i,{key:0,zipFile:e.zipFile,payload:e.payload},null,8,["zipFile","payload"])):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(c,{vertical:""}),(0,l.bF)(s,{cols:"12",md:"6"},{default:(0,l.k6)(()=>[e.zipFile&&e.payload.manifest?((0,l.uX)(),(0,l.Wv)(p,{key:0,manifest:e.payload.manifest,demo:!0},null,8,["manifest"])):(0,l.Q3)("",!0)]),_:1})]),_:1})}var fn=(0,l.pM)({components:{PayloadDetail:Nt,PayloadComposition:cn},data(){return{zipFile:null,payload:null}},async created(){try{const e=await Vt.A.get("./files/cf_x86_demo.zip",{responseType:"blob"});this.zipFile=new Pt(new File([e.data],"ota_demo.zip")),this.payload=new me(this.zipFile),await this.payload.init()}catch(e){console.log("Please put a proper example OTA in /public/files/")}}});const gn=(0,d.A)(fn,[["render",hn]]);var mn=gn;const yn={class:"about"};function bn(e,t){return(0,l.uX)(),(0,l.CE)("div",yn,[...t[0]||(t[0]=[(0,l.Lk)("p",null,"A web based tool to inspect Android OTA packages.",-1)])])}const wn={},On=(0,d.A)(wn,[["render",bn]]);var Sn=On;function kn(e,t){const n=(0,l.g2)("center");return(0,l.uX)(),(0,l.Wv)(n,null,{default:(0,l.k6)(()=>[...t[0]||(t[0]=[(0,l.Lk)("h1",null,"Not Found!",-1),(0,l.Lk)("p",null,[(0,l.Lk)("a",{href:"/"},"Go home?")],-1)])]),_:1})}const xn={},Pn=(0,d.A)(xn,[["render",kn],["__scopeId","data-v-50c6f348"]]);var _n=Pn;const vn=[{path:"/",name:"Analysis",component:dn,meta:{title:"Analyse OTA package - from AOSP"}},{path:"/demo",name:"Demo",component:mn},{path:"/about",name:"About",component:Sn},{path:"/:catchAll(.*)",name:"Not Found",component:_n}],En=(0,g.aE)({history:(0,g.sC)(),routes:vn});En.beforeEach((e,t,n)=>{const a=e.matched.slice().reverse().find(e=>e.meta&&e.meta.title),r=(e.matched.slice().reverse().find(e=>e.meta&&e.meta.metaTags),t.matched.slice().reverse().find(e=>e.meta&&e.meta.metaTags));a?document.title=a.meta.title:r&&(document.title=r.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map(e=>e.parentNode.removeChild(e)),n()});var Ln=En;const Cn=(0,a.Ef)(f);Cn.use(Ln),Cn.use(s),Cn.mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var i=1/0;for(p=0;p<e.length;p++){a=e[p][0],r=e[p][1],o=e[p][2];for(var s=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every(function(e){return n.O[e](a[l])})?a.splice(l--,1):(s=!1,o<i&&(i=o));if(s){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[a,r,o]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],s=a[1],l=a[2],c=0;if(i.some(function(t){return 0!==e[t]})){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)var p=l(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(p)},a=self["webpackChunkota_analyzer"]=self["webpackChunkota_analyzer"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],function(){return n(2565)});a=n.O(a)})();
//# sourceMappingURL=app.255b42b0.js.map